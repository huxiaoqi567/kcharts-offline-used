/*! kcharts - v1.3 - 2014-06-20 4:28:07 PM
* Copyright (c) 2014 伯才; Licensed  */
KISSY.add("gallery/kcharts/1.3/raphael/index",function(){return function(){(function(l){var t,e,r="0.4.2",i="hasOwnProperty",n=/[\.\/]/,a="*",s=function(){},o=function(l,t){return l-t},h={n:{}},x=function(l,r){l+="";var i,n=e,a=Array.prototype.slice.call(arguments,2),s=x.listeners(l),h=0,c=[],y={},u=[],f=t;t=l,e=0;for(var d=0,p=s.length;p>d;d++)"zIndex"in s[d]&&(c.push(s[d].zIndex),0>s[d].zIndex&&(y[s[d].zIndex]=s[d]));for(c.sort(o);0>c[h];)if(i=y[c[h++]],u.push(i.apply(r,a)),e)return e=n,u;for(d=0;p>d;d++)if(i=s[d],"zIndex"in i)if(i.zIndex==c[h]){if(u.push(i.apply(r,a)),e)break;do if(h++,i=y[c[h]],i&&u.push(i.apply(r,a)),e)break;while(i)}else y[i.zIndex]=i;else if(u.push(i.apply(r,a)),e)break;return e=n,t=f,u.length?u:null};x._events=h,x.listeners=function(l){var t,e,r,i,s,o,x,c,y=l.split(n),u=h,f=[u],d=[];for(i=0,s=y.length;s>i;i++){for(c=[],o=0,x=f.length;x>o;o++)for(u=f[o].n,e=[u[y[i]],u[a]],r=2;r--;)t=e[r],t&&(c.push(t),d=d.concat(t.f||[]));f=c}return d},x.on=function(l,t){if(l+="","function"!=typeof t)return function(){};for(var e=l.split(n),r=h,i=0,a=e.length;a>i;i++)r=r.n,r=r.hasOwnProperty(e[i])&&r[e[i]]||(r[e[i]]={n:{}});for(r.f=r.f||[],i=0,a=r.f.length;a>i;i++)if(r.f[i]==t)return s;return r.f.push(t),function(l){+l==+l&&(t.zIndex=+l)}},x.f=function(l){var t=[].slice.call(arguments,1);return function(){x.apply(null,[l,null].concat(t).concat([].slice.call(arguments,0)))}},x.stop=function(){e=1},x.nt=function(l){return l?RegExp("(?:\\.|\\/|^)"+l+"(?:\\.|\\/|$)").test(t):t},x.nts=function(){return t.split(n)},x.off=x.unbind=function(l,t){if(!l)return x._events=h={n:{}},void 0;var e,r,s,o,c,y,u,f=l.split(n),d=[h];for(o=0,c=f.length;c>o;o++)for(y=0;d.length>y;y+=s.length-2){if(s=[y,1],e=d[y].n,f[o]!=a)e[f[o]]&&s.push(e[f[o]]);else for(r in e)e[i](r)&&s.push(e[r]);d.splice.apply(d,s)}for(o=0,c=d.length;c>o;o++)for(e=d[o];e.n;){if(t){if(e.f){for(y=0,u=e.f.length;u>y;y++)if(e.f[y]==t){e.f.splice(y,1);break}!e.f.length&&delete e.f}for(r in e.n)if(e.n[i](r)&&e.n[r].f){var p=e.n[r].f;for(y=0,u=p.length;u>y;y++)if(p[y]==t){p.splice(y,1);break}!p.length&&delete e.n[r].f}}else{delete e.f;for(r in e.n)e.n[i](r)&&e.n[r].f&&delete e.n[r].f}e=e.n}},x.once=function(l,t){var e=function(){return x.unbind(l,e),t.apply(this,arguments)};return x.on(l,e)},x.version=r,x.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=x:"undefined"!=typeof define?define("eve",[],function(){return x}):l.eve=x})(this),function(l,t){"function"==typeof define&&define.amd?define(["eve"],function(e){return t(l,e)}):t(l,l.eve)}(this,function(l,t){function e(l){if(e.is(l,"function"))return b?l():t.on("raphael.DOMload",l);if(e.is(l,$))return e._engine.create[M](e,l.splice(0,3+e.is(l[0],Z))).add(l);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var i=r.pop();return b?i.call(e._engine.create[M](e,r)):t.on("raphael.DOMload",function(){i.call(e._engine.create[M](e,r))})}return e._engine.create[M](e,arguments)}function r(l){if(Object(l)!==l)return l;var t=new l.constructor;for(var e in l)l[S](e)&&(t[e]=r(l[e]));return t}function i(l,t){for(var e=0,r=l.length;r>e;e++)if(l[e]===t)return l.push(l.splice(e,1)[0])}function n(l,t,e){function r(){var n=Array.prototype.slice.call(arguments,0),a=n.join("␀"),s=r.cache=r.cache||{},o=r.count=r.count||[];return s[S](a)?(i(o,a),e?e(s[a]):s[a]):(o.length>=1e3&&delete s[o.shift()],o.push(a),s[a]=l[M](t,n),e?e(s[a]):s[a])}return r}function a(){return this.hex}function s(l,t){for(var e=[],r=0,i=l.length;i-2*!t>r;r+=2){var n=[{x:+l[r-2],y:+l[r-1]},{x:+l[r],y:+l[r+1]},{x:+l[r+2],y:+l[r+3]},{x:+l[r+4],y:+l[r+5]}];t?r?i-4==r?n[3]={x:+l[0],y:+l[1]}:i-2==r&&(n[2]={x:+l[0],y:+l[1]},n[3]={x:+l[2],y:+l[3]}):n[0]={x:+l[i-2],y:+l[i-1]}:i-4==r?n[3]=n[2]:r||(n[0]={x:+l[r],y:+l[r+1]}),e.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y])}return e}function o(l,t,e,r,i){var n=-3*t+9*e-9*r+3*i,a=l*n+6*t-12*e+6*r;return l*a-3*t+3*e}function h(l,t,e,r,i,n,a,s,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var x=h/2,c=12,y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;c>d;d++){var p=x*y[d]+x,v=o(p,l,e,i,a),g=o(p,t,r,n,s),m=v*v+g*g;f+=u[d]*j.sqrt(m)}return x*f}function x(l,t,e,r,i,n,a,s,o){if(!(0>o||o>h(l,t,e,r,i,n,a,s))){var x,c=1,y=c/2,u=c-y,f=.01;for(x=h(l,t,e,r,i,n,a,s,u);G(x-o)>f;)y/=2,u+=(o>x?1:-1)*y,x=h(l,t,e,r,i,n,a,s,u);return u}}function c(l,t,e,r,i,n,a,s){if(!(O(l,e)<Y(i,a)||Y(l,e)>O(i,a)||O(t,r)<Y(n,s)||Y(t,r)>O(n,s))){var o=(l*r-t*e)*(i-a)-(l-e)*(i*s-n*a),h=(l*r-t*e)*(n-s)-(t-r)*(i*s-n*a),x=(l-e)*(n-s)-(t-r)*(i-a);if(x){var c=o/x,y=h/x,u=+c.toFixed(2),f=+y.toFixed(2);if(!(+Y(l,e).toFixed(2)>u||u>+O(l,e).toFixed(2)||+Y(i,a).toFixed(2)>u||u>+O(i,a).toFixed(2)||+Y(t,r).toFixed(2)>f||f>+O(t,r).toFixed(2)||+Y(n,s).toFixed(2)>f||f>+O(n,s).toFixed(2)))return{x:c,y:y}}}}function y(l,t,r){var i=e.bezierBBox(l),n=e.bezierBBox(t);if(!e.isBBoxIntersect(i,n))return r?0:[];for(var a=h.apply(0,l),s=h.apply(0,t),o=~~(a/5),x=~~(s/5),y=[],u=[],f={},d=r?0:[],p=0;o+1>p;p++){var v=e.findDotsAtSegment.apply(e,l.concat(p/o));y.push({x:v.x,y:v.y,t:p/o})}for(p=0;x+1>p;p++)v=e.findDotsAtSegment.apply(e,t.concat(p/x)),u.push({x:v.x,y:v.y,t:p/x});for(p=0;o>p;p++)for(var g=0;x>g;g++){var m=y[p],b=y[p+1],_=u[g],w=u[g+1],k=.001>G(b.x-m.x)?"y":"x",C=.001>G(w.x-_.x)?"y":"x",S=c(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var A=m.t+G((S[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),L=_.t+G((S[C]-_[C])/(w[C]-_[C]))*(w.t-_.t);A>=0&&1>=A&&L>=0&&1>=L&&(r?d++:d.push({x:S.x,y:S.y,t1:A,t2:L}))}}return d}function u(l,t,r){l=e._path2curve(l),t=e._path2curve(t);for(var i,n,a,s,o,h,x,c,u,f,d=r?0:[],p=0,v=l.length;v>p;p++){var g=l[p];if("M"==g[0])i=o=g[1],n=h=g[2];else{"C"==g[0]?(u=[i,n].concat(g.slice(1)),i=u[6],n=u[7]):(u=[i,n,i,n,o,h,o,h],i=o,n=h);for(var m=0,b=t.length;b>m;m++){var _=t[m];if("M"==_[0])a=x=_[1],s=c=_[2];else{"C"==_[0]?(f=[a,s].concat(_.slice(1)),a=f[6],s=f[7]):(f=[a,s,a,s,x,c,x,c],a=x,s=c);var w=y(u,f,r);if(r)d+=w;else{for(var k=0,C=w.length;C>k;k++)w[k].segment1=p,w[k].segment2=m,w[k].bez1=u,w[k].bez2=f;d=d.concat(w)}}}}}return d}function f(l,t,e,r,i,n){null!=l?(this.a=+l,this.b=+t,this.c=+e,this.d=+r,this.e=+i,this.f=+n):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+z+this.y+z+this.width+" × "+this.height}function p(l,t,e,r,i,n){function a(l){return((c*l+x)*l+h)*l}function s(l,t){var e=o(l,t);return((f*e+u)*e+y)*e}function o(l,t){var e,r,i,n,s,o;for(i=l,o=0;8>o;o++){if(n=a(i)-l,t>G(n))return i;if(s=(3*c*i+2*x)*i+h,1e-6>G(s))break;i-=n/s}if(e=0,r=1,i=l,e>i)return e;if(i>r)return r;for(;r>e;){if(n=a(i),t>G(n-l))return i;l>n?e=i:r=i,i=(r-e)/2+e}return i}var h=3*t,x=3*(r-t)-h,c=1-h-x,y=3*e,u=3*(i-e)-y,f=1-y-u;return s(l,1/(200*n))}function v(l,t){var e=[],r={};if(this.ms=t,this.times=1,l){for(var i in l)l[S](i)&&(r[J(i)]=l[i],e.push(J(i)));e.sort(ct)}this.anim=r,this.top=e[e.length-1],this.percents=e}function g(l,r,i,n,a,s){i=J(i);var o,h,x,c,y,u,d=l.ms,v={},g={},m={};if(n)for(_=0,k=oe.length;k>_;_++){var b=oe[_];if(b.el.id==r.id&&b.anim==l){b.percent!=i?(oe.splice(_,1),x=1):h=b,r.attr(b.totalOrigin);break}}else n=+g;for(var _=0,k=l.percents.length;k>_;_++){if(l.percents[_]==i||l.percents[_]>n*l.top){i=l.percents[_],y=l.percents[_-1]||0,d=d/l.top*(i-y),c=l.percents[_+1],o=l.anim[i];break}n&&r.attr(l.anim[l.percents[_]])}if(o){if(h)h.initstatus=n,h.start=new Date-h.ms*n;else{for(var C in o)if(o[S](C)&&(rt[S](C)||r.paper.customAttributes[S](C)))switch(v[C]=r.attr(C),null==v[C]&&(v[C]=et[C]),g[C]=o[C],rt[C]){case Z:m[C]=(g[C]-v[C])/d;break;case"colour":v[C]=e.getRGB(v[C]);var A=e.getRGB(g[C]);m[C]={r:(A.r-v[C].r)/d,g:(A.g-v[C].g)/d,b:(A.b-v[C].b)/d};break;case"path":var L=Ft(v[C],g[C]),B=L[1];for(v[C]=L[0],m[C]=[],_=0,k=v[C].length;k>_;_++){m[C][_]=[0];for(var M=1,E=v[C][_].length;E>M;M++)m[C][_][M]=(B[_][M]-v[C][_][M])/d}break;case"transform":var I=r._,z=Yt(I[C],g[C]);if(z)for(v[C]=z.from,g[C]=z.to,m[C]=[],m[C].real=!0,_=0,k=v[C].length;k>_;_++)for(m[C][_]=[v[C][_][0]],M=1,E=v[C][_].length;E>M;M++)m[C][_][M]=(g[C][_][M]-v[C][_][M])/d;else{var F=r.matrix||new f,R={_:{transform:I.transform},getBBox:function(){return r.getBBox(1)}};v[C]=[F.a,F.b,F.c,F.d,F.e,F.f],jt(R,g[C]),g[C]=R._.transform,m[C]=[(R.matrix.a-F.a)/d,(R.matrix.b-F.b)/d,(R.matrix.c-F.c)/d,(R.matrix.d-F.d)/d,(R.matrix.e-F.e)/d,(R.matrix.f-F.f)/d]}break;case"csv":var D=P(o[C])[N](w),j=P(v[C])[N](w);if("clip-rect"==C)for(v[C]=j,m[C]=[],_=j.length;_--;)m[C][_]=(D[_]-v[C][_])/d;g[C]=D;break;default:for(D=[][T](o[C]),j=[][T](v[C]),m[C]=[],_=r.paper.customAttributes[C].length;_--;)m[C][_]=((D[_]||0)-(j[_]||0))/d}var O=o.easing,Y=e.easing_formulas[O];if(!Y)if(Y=P(O).match(K),Y&&5==Y.length){var G=Y;Y=function(l){return p(l,+G[1],+G[2],+G[3],+G[4],d)}}else Y=ut;if(u=o.start||l.start||+new Date,b={anim:l,percent:i,timestamp:u,start:u+(l.del||0),status:0,initstatus:n||0,stop:!1,ms:d,easing:Y,from:v,diff:m,to:g,el:r,callback:o.callback,prev:y,next:c,repeat:s||l.times,origin:r.attr(),totalOrigin:a},oe.push(b),n&&!h&&!x&&(b.stop=!0,b.start=new Date-d*n,1==oe.length))return xe();x&&(b.start=new Date-b.ms*n),1==oe.length&&he(xe)}t("raphael.anim.start."+r.id,r,l)}}function m(l){for(var t=0;oe.length>t;t++)oe[t].el.paper==l&&oe.splice(t--,1)}e.version="2.1.0",e.eve=t;var b,_,w=/[, ]+/,k={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,S="hasOwnProperty",A={doc:document,win:l},L={was:Object.prototype[S].call(A.win,"Raphael"),is:A.win.Raphael},B=function(){this.ca=this.customAttributes={}},M="apply",T="concat",E="ontouchstart"in A.win||A.win.DocumentTouch&&A.doc instanceof DocumentTouch,I="",z=" ",P=String,N="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[N](z),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},D=P.prototype.toLowerCase,j=Math,O=j.max,Y=j.min,G=j.abs,X=j.pow,q=j.PI,Z="number",V="string",$="array",H=Object.prototype.toString,U=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),W={NaN:1,Infinity:1,"-Infinity":1},K=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=j.round,J=parseFloat,lt=parseInt,tt=P.prototype.toUpperCase,et=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},rt=e._availableAnimAttrs={blur:Z,"clip-rect":"csv",cx:Z,cy:Z,fill:"colour","fill-opacity":Z,"font-size":Z,height:Z,opacity:Z,path:"path",r:Z,rx:Z,ry:Z,stroke:"colour","stroke-opacity":Z,"stroke-width":Z,transform:"transform",width:Z,x:Z,y:Z},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,st=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,xt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ct=function(l,t){return J(l)-J(t)},yt=function(){},ut=function(l){return l},ft=e._rectPath=function(l,t,e,r,i){return i?[["M",l+i,t],["l",e-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-e,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",l,t],["l",e,0],["l",0,r],["l",-e,0],["z"]]},dt=function(l,t,e,r){return null==r&&(r=e),[["M",l,t],["m",0,-r],["a",e,r,0,1,1,0,2*r],["a",e,r,0,1,1,0,-2*r],["z"]]},pt=e._getPath={path:function(l){return l.attr("path")},circle:function(l){var t=l.attrs;return dt(t.cx,t.cy,t.r)},ellipse:function(l){var t=l.attrs;return dt(t.cx,t.cy,t.rx,t.ry)},rect:function(l){var t=l.attrs;return ft(t.x,t.y,t.width,t.height,t.r)},image:function(l){var t=l.attrs;return ft(t.x,t.y,t.width,t.height)},text:function(l){var t=l._getBBox();return ft(t.x,t.y,t.width,t.height)},set:function(l){var t=l._getBBox();return ft(t.x,t.y,t.width,t.height)}},vt=e.mapPath=function(l,t){if(!t)return l;var e,r,i,n,a,s,o;for(l=Ft(l),i=0,a=l.length;a>i;i++)for(o=l[i],n=1,s=o.length;s>n;n+=2)e=t.x(o[n],o[n+1]),r=t.y(o[n],o[n+1]),o[n]=e,o[n+1]=r;return l};if(e._g=A,e.type=A.win.SVGAngle||A.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var gt,mt=A.doc.createElement("div");if(mt.innerHTML='<v:shape adj="1"/>',gt=mt.firstChild,gt.style.behavior="url(#default#VML)",!gt||"object"!=typeof gt.adj)return e.type=I;mt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=B,e.fn=_=B.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(l,t){return t=D.call(t),"finite"==t?!W[S](+l):"array"==t?l instanceof Array:"null"==t&&null===l||t==typeof l&&null!==l||"object"==t&&l===Object(l)||"array"==t&&Array.isArray&&Array.isArray(l)||H.call(l).slice(8,-1).toLowerCase()==t},e.angle=function(l,t,r,i,n,a){if(null==n){var s=l-r,o=t-i;return s||o?(180+180*j.atan2(-o,-s)/q+360)%360:0}return e.angle(l,t,n,a)-e.angle(r,i,n,a)},e.rad=function(l){return l%360*q/180},e.deg=function(l){return 180*l/q%360},e.snapTo=function(l,t,r){if(r=e.is(r,"finite")?r:10,e.is(l,$)){for(var i=l.length;i--;)if(r>=G(l[i]-t))return l[i]}else{l=+l;var n=t%l;if(r>n)return t-n;if(n>l-r)return t-n+l}return t},e.createUUID=function(l,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(l,t).toUpperCase()}}(/[xy]/g,function(l){var t=0|16*j.random(),e="x"==l?t:8|3&t;return e.toString(16)}),e.setWindow=function(l){t("raphael.setWindow",e,A.win,l),A.win=l,A.doc=A.win.document,e._engine.initWin&&e._engine.initWin(A.win)};var bt=function(l){if(e.vml){var t,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),t=i.body}catch(a){t=createPopup().document.body}var s=t.createTextRange();bt=n(function(l){try{t.style.color=P(l).replace(r,I);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(i){return"none"}})}else{var o=A.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",A.doc.body.appendChild(o),bt=n(function(l){return o.style.color=l,A.doc.defaultView.getComputedStyle(o,I).getPropertyValue("color")})}return bt(l)},_t=function(){return"hsb("+[this.h,this.s,this.b]+")"},wt=function(){return"hsl("+[this.h,this.s,this.l]+")"},kt=function(){return this.hex},Ct=function(l,t,r){if(null==t&&e.is(l,"object")&&"r"in l&&"g"in l&&"b"in l&&(r=l.b,t=l.g,l=l.r),null==t&&e.is(l,V)){var i=e.getRGB(l);l=i.r,t=i.g,r=i.b}return(l>1||t>1||r>1)&&(l/=255,t/=255,r/=255),[l,t,r]},St=function(l,t,r,i){l*=255,t*=255,r*=255;var n={r:l,g:t,b:r,hex:e.rgb(l,t,r),toString:kt};return e.is(i,"finite")&&(n.opacity=i),n};e.color=function(l){var t;return e.is(l,"object")&&"h"in l&&"s"in l&&"b"in l?(t=e.hsb2rgb(l),l.r=t.r,l.g=t.g,l.b=t.b,l.hex=t.hex):e.is(l,"object")&&"h"in l&&"s"in l&&"l"in l?(t=e.hsl2rgb(l),l.r=t.r,l.g=t.g,l.b=t.b,l.hex=t.hex):(e.is(l,"string")&&(l=e.getRGB(l)),e.is(l,"object")&&"r"in l&&"g"in l&&"b"in l?(t=e.rgb2hsl(l),l.h=t.h,l.s=t.s,l.l=t.l,t=e.rgb2hsb(l),l.v=t.b):(l={hex:"none"},l.r=l.g=l.b=l.h=l.s=l.v=l.l=-1)),l.toString=kt,l},e.hsb2rgb=function(l,t,e,r){this.is(l,"object")&&"h"in l&&"s"in l&&"b"in l&&(e=l.b,t=l.s,l=l.h,r=l.o),l*=360;var i,n,a,s,o;return l=l%360/60,o=e*t,s=o*(1-G(l%2-1)),i=n=a=e-o,l=~~l,i+=[o,s,0,0,s,o][l],n+=[s,o,o,s,0,0][l],a+=[0,0,s,o,o,s][l],St(i,n,a,r)},e.hsl2rgb=function(l,t,e,r){this.is(l,"object")&&"h"in l&&"s"in l&&"l"in l&&(e=l.l,t=l.s,l=l.h),(l>1||t>1||e>1)&&(l/=360,t/=100,e/=100),l*=360;var i,n,a,s,o;return l=l%360/60,o=2*t*(.5>e?e:1-e),s=o*(1-G(l%2-1)),i=n=a=e-o/2,l=~~l,i+=[o,s,0,0,s,o][l],n+=[s,o,o,s,0,0][l],a+=[0,0,s,o,o,s][l],St(i,n,a,r)},e.rgb2hsb=function(l,t,e){e=Ct(l,t,e),l=e[0],t=e[1],e=e[2];var r,i,n,a;return n=O(l,t,e),a=n-Y(l,t,e),r=0==a?null:n==l?(t-e)/a:n==t?(e-l)/a+2:(l-t)/a+4,r=60*((r+360)%6)/360,i=0==a?0:a/n,{h:r,s:i,b:n,toString:_t}},e.rgb2hsl=function(l,t,e){e=Ct(l,t,e),l=e[0],t=e[1],e=e[2];var r,i,n,a,s,o;return a=O(l,t,e),s=Y(l,t,e),o=a-s,r=0==o?null:a==l?(t-e)/o:a==t?(e-l)/o+2:(l-t)/o+4,r=60*((r+360)%6)/360,n=(a+s)/2,i=0==o?0:.5>n?o/(2*n):o/(2-2*n),{h:r,s:i,l:n,toString:wt}},e._path2string=function(){return this.join(",").replace(at,"$1")},e._preload=function(l,t){var e=A.doc.createElement("img");e.style.cssText="position:absolute;left:-9999em;top:-9999em",e.onload=function(){t.call(this),this.onload=null,A.doc.body.removeChild(this)},e.onerror=function(){A.doc.body.removeChild(this)},A.doc.body.appendChild(e),e.src=l},e.getRGB=n(function(l){if(!l||(l=P(l)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==l)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(nt[S](l.toLowerCase().substring(0,2))||"#"==l.charAt())&&(l=bt(l));var t,r,i,n,s,o,h=l.match(U);return h?(h[2]&&(i=lt(h[2].substring(5),16),r=lt(h[2].substring(3,5),16),t=lt(h[2].substring(1,3),16)),h[3]&&(i=lt((s=h[3].charAt(3))+s,16),r=lt((s=h[3].charAt(2))+s,16),t=lt((s=h[3].charAt(1))+s,16)),h[4]&&(o=h[4][N](it),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),r=J(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100)),h[5]?(o=h[5][N](it),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),r=J(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(t/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),e.hsb2rgb(t,r,i,n)):h[6]?(o=h[6][N](it),t=J(o[0]),"%"==o[0].slice(-1)&&(t*=2.55),r=J(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(t/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(n=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),e.hsl2rgb(t,r,i,n)):(h={r:t,g:r,b:i,toString:a},h.hex="#"+(16777216|i|r<<8|t<<16).toString(16).slice(1),e.is(n,"finite")&&(h.opacity=n),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(l,t,r){return e.hsb2rgb(l,t,r).hex}),e.hsl=n(function(l,t,r){return e.hsl2rgb(l,t,r).hex}),e.rgb=n(function(l,t,e){return"#"+(16777216|e|t<<8|l<<16).toString(16).slice(1)}),e.getColor=function(l){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:l||.75},e=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,0>=t.s&&(this.getColor.start={h:0,s:1,b:t.b})),e.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(l){if(!l)return null;var t=At(l);if(t.arr)return Bt(t.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return e.is(l,$)&&e.is(l[0],$)&&(i=Bt(l)),i.length||P(l).replace(st,function(l,t,e){var n=[],a=t.toLowerCase();if(e.replace(ht,function(l,t){t&&n.push(+t)}),"m"==a&&n.length>2&&(i.push([t][T](n.splice(0,2))),a="l",t="m"==t?"l":"L"),"r"==a)i.push([t][T](n));else for(;n.length>=r[a]&&(i.push([t][T](n.splice(0,r[a]))),r[a]););}),i.toString=e._path2string,t.arr=Bt(i),i},e.parseTransformString=n(function(l){if(!l)return null;var t=[];return e.is(l,$)&&e.is(l[0],$)&&(t=Bt(l)),t.length||P(l).replace(ot,function(l,e,r){var i=[];D.call(e),r.replace(ht,function(l,t){t&&i.push(+t)}),t.push([e][T](i))}),t.toString=e._path2string,t});var At=function(l){var t=At.ps=At.ps||{};return t[l]?t[l].sleep=100:t[l]={sleep:100},setTimeout(function(){for(var e in t)t[S](e)&&e!=l&&(t[e].sleep--,!t[e].sleep&&delete t[e])}),t[l]};e.findDotsAtSegment=function(l,t,e,r,i,n,a,s,o){var h=1-o,x=X(h,3),c=X(h,2),y=o*o,u=y*o,f=x*l+3*c*o*e+3*h*o*o*i+u*a,d=x*t+3*c*o*r+3*h*o*o*n+u*s,p=l+2*o*(e-l)+y*(i-2*e+l),v=t+2*o*(r-t)+y*(n-2*r+t),g=e+2*o*(i-e)+y*(a-2*i+e),m=r+2*o*(n-r)+y*(s-2*n+r),b=h*l+o*e,_=h*t+o*r,w=h*i+o*a,k=h*n+o*s,C=90-180*j.atan2(p-g,v-m)/q;return(p>g||m>v)&&(C+=180),{x:f,y:d,m:{x:p,y:v},n:{x:g,y:m},start:{x:b,y:_},end:{x:w,y:k},alpha:C}},e.bezierBBox=function(l,t,r,i,n,a,s,o){e.is(l,"array")||(l=[l,t,r,i,n,a,s,o]);var h=Nt.apply(null,l);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(l,t,e){return t>=l.x&&l.x2>=t&&e>=l.y&&l.y2>=e},e.isBBoxIntersect=function(l,t){var r=e.isPointInsideBBox;return r(t,l.x,l.y)||r(t,l.x2,l.y)||r(t,l.x,l.y2)||r(t,l.x2,l.y2)||r(l,t.x,t.y)||r(l,t.x2,t.y)||r(l,t.x,t.y2)||r(l,t.x2,t.y2)||(l.x<t.x2&&l.x>t.x||t.x<l.x2&&t.x>l.x)&&(l.y<t.y2&&l.y>t.y||t.y<l.y2&&t.y>l.y)},e.pathIntersection=function(l,t){return u(l,t)},e.pathIntersectionNumber=function(l,t){return u(l,t,1)},e.isPointInsidePath=function(l,t,r){var i=e.pathBBox(l);return e.isPointInsideBBox(i,t,r)&&1==u(l,[["M",t,r],["H",i.x2+10]],1)%2},e._removedFactory=function(l){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+l+"” of removed object",l)}};var Lt=e.pathBBox=function(l){var t=At(l);if(t.bbox)return r(t.bbox);if(!l)return{x:0,y:0,width:0,height:0,x2:0,y2:0};l=Ft(l);for(var e,i=0,n=0,a=[],s=[],o=0,h=l.length;h>o;o++)if(e=l[o],"M"==e[0])i=e[1],n=e[2],a.push(i),s.push(n);else{var x=Nt(i,n,e[1],e[2],e[3],e[4],e[5],e[6]);a=a[T](x.min.x,x.max.x),s=s[T](x.min.y,x.max.y),i=e[5],n=e[6]}var c=Y[M](0,a),y=Y[M](0,s),u=O[M](0,a),f=O[M](0,s),d=u-c,p=f-y,v={x:c,y:y,x2:u,y2:f,width:d,height:p,cx:c+d/2,cy:y+p/2};return t.bbox=r(v),v},Bt=function(l){var t=r(l);return t.toString=e._path2string,t},Mt=e._pathToRelative=function(l){var t=At(l);if(t.rel)return Bt(t.rel);e.is(l,$)&&e.is(l&&l[0],$)||(l=e.parsePathString(l));var r=[],i=0,n=0,a=0,s=0,o=0;"M"==l[0][0]&&(i=l[0][1],n=l[0][2],a=i,s=n,o++,r.push(["M",i,n]));for(var h=o,x=l.length;x>h;h++){var c=r[h]=[],y=l[h];if(y[0]!=D.call(y[0]))switch(c[0]=D.call(y[0]),c[0]){case"a":c[1]=y[1],c[2]=y[2],c[3]=y[3],c[4]=y[4],c[5]=y[5],c[6]=+(y[6]-i).toFixed(3),c[7]=+(y[7]-n).toFixed(3);break;case"v":c[1]=+(y[1]-n).toFixed(3);break;case"m":a=y[1],s=y[2];default:for(var u=1,f=y.length;f>u;u++)c[u]=+(y[u]-(u%2?i:n)).toFixed(3)}else{c=r[h]=[],"m"==y[0]&&(a=y[1]+i,s=y[2]+n);for(var d=0,p=y.length;p>d;d++)r[h][d]=y[d]}var v=r[h].length;switch(r[h][0]){case"z":i=a,n=s;break;case"h":i+=+r[h][v-1];break;case"v":n+=+r[h][v-1];break;default:i+=+r[h][v-2],n+=+r[h][v-1]}}return r.toString=e._path2string,t.rel=Bt(r),r},Tt=e._pathToAbsolute=function(l){var t=At(l);if(t.abs)return Bt(t.abs);if(e.is(l,$)&&e.is(l&&l[0],$)||(l=e.parsePathString(l)),!l||!l.length)return[["M",0,0]];var r=[],i=0,n=0,a=0,o=0,h=0;"M"==l[0][0]&&(i=+l[0][1],n=+l[0][2],a=i,o=n,h++,r[0]=["M",i,n]);for(var x,c,y=3==l.length&&"M"==l[0][0]&&"R"==l[1][0].toUpperCase()&&"Z"==l[2][0].toUpperCase(),u=h,f=l.length;f>u;u++){if(r.push(x=[]),c=l[u],c[0]!=tt.call(c[0]))switch(x[0]=tt.call(c[0]),x[0]){case"A":x[1]=c[1],x[2]=c[2],x[3]=c[3],x[4]=c[4],x[5]=c[5],x[6]=+(c[6]+i),x[7]=+(c[7]+n);break;case"V":x[1]=+c[1]+n;break;case"H":x[1]=+c[1]+i;break;case"R":for(var d=[i,n][T](c.slice(1)),p=2,v=d.length;v>p;p++)d[p]=+d[p]+i,d[++p]=+d[p]+n;r.pop(),r=r[T](s(d,y));break;case"M":a=+c[1]+i,o=+c[2]+n;default:for(p=1,v=c.length;v>p;p++)x[p]=+c[p]+(p%2?i:n)}else if("R"==c[0])d=[i,n][T](c.slice(1)),r.pop(),r=r[T](s(d,y)),x=["R"][T](c.slice(-2));else for(var g=0,m=c.length;m>g;g++)x[g]=c[g];switch(x[0]){case"Z":i=a,n=o;break;case"H":i=x[1];break;case"V":n=x[1];break;case"M":a=x[x.length-2],o=x[x.length-1];default:i=x[x.length-2],n=x[x.length-1]}}return r.toString=e._path2string,t.abs=Bt(r),r},Et=function(l,t,e,r){return[l,t,e,r,e,r]},It=function(l,t,e,r,i,n){var a=1/3,s=2/3;return[a*l+s*e,a*t+s*r,a*i+s*e,a*n+s*r,i,n]},zt=function(l,t,e,r,i,a,s,o,h,x){var c,y=120*q/180,u=q/180*(+i||0),f=[],d=n(function(l,t,e){var r=l*j.cos(e)-t*j.sin(e),i=l*j.sin(e)+t*j.cos(e);return{x:r,y:i}});if(x)C=x[0],S=x[1],w=x[2],k=x[3];else{c=d(l,t,-u),l=c.x,t=c.y,c=d(o,h,-u),o=c.x,h=c.y;var p=(j.cos(q/180*i),j.sin(q/180*i),(l-o)/2),v=(t-h)/2,g=p*p/(e*e)+v*v/(r*r);g>1&&(g=j.sqrt(g),e=g*e,r=g*r);var m=e*e,b=r*r,_=(a==s?-1:1)*j.sqrt(G((m*b-m*v*v-b*p*p)/(m*v*v+b*p*p))),w=_*e*v/r+(l+o)/2,k=_*-r*p/e+(t+h)/2,C=j.asin(((t-k)/r).toFixed(9)),S=j.asin(((h-k)/r).toFixed(9));C=w>l?q-C:C,S=w>o?q-S:S,0>C&&(C=2*q+C),0>S&&(S=2*q+S),s&&C>S&&(C-=2*q),!s&&S>C&&(S-=2*q)}var A=S-C;if(G(A)>y){var L=S,B=o,M=h;S=C+y*(s&&S>C?1:-1),o=w+e*j.cos(S),h=k+r*j.sin(S),f=zt(o,h,e,r,i,0,s,B,M,[S,L,w,k])}A=S-C;var E=j.cos(C),I=j.sin(C),z=j.cos(S),P=j.sin(S),F=j.tan(A/4),R=4/3*e*F,D=4/3*r*F,O=[l,t],Y=[l+R*I,t-D*E],X=[o+R*P,h-D*z],Z=[o,h];if(Y[0]=2*O[0]-Y[0],Y[1]=2*O[1]-Y[1],x)return[Y,X,Z][T](f);f=[Y,X,Z][T](f).join()[N](",");for(var V=[],$=0,H=f.length;H>$;$++)V[$]=$%2?d(f[$-1],f[$],u).y:d(f[$],f[$+1],u).x;return V},Pt=function(l,t,e,r,i,n,a,s,o){var h=1-o;return{x:X(h,3)*l+3*X(h,2)*o*e+3*h*o*o*i+X(o,3)*a,y:X(h,3)*t+3*X(h,2)*o*r+3*h*o*o*n+X(o,3)*s}},Nt=n(function(l,t,e,r,i,n,a,s){var o,h=i-2*e+l-(a-2*i+e),x=2*(e-l)-2*(i-e),c=l-e,y=(-x+j.sqrt(x*x-4*h*c))/2/h,u=(-x-j.sqrt(x*x-4*h*c))/2/h,f=[t,s],d=[l,a];return G(y)>"1e12"&&(y=.5),G(u)>"1e12"&&(u=.5),y>0&&1>y&&(o=Pt(l,t,e,r,i,n,a,s,y),d.push(o.x),f.push(o.y)),u>0&&1>u&&(o=Pt(l,t,e,r,i,n,a,s,u),d.push(o.x),f.push(o.y)),h=n-2*r+t-(s-2*n+r),x=2*(r-t)-2*(n-r),c=t-r,y=(-x+j.sqrt(x*x-4*h*c))/2/h,u=(-x-j.sqrt(x*x-4*h*c))/2/h,G(y)>"1e12"&&(y=.5),G(u)>"1e12"&&(u=.5),y>0&&1>y&&(o=Pt(l,t,e,r,i,n,a,s,y),d.push(o.x),f.push(o.y)),u>0&&1>u&&(o=Pt(l,t,e,r,i,n,a,s,u),d.push(o.x),f.push(o.y)),{min:{x:Y[M](0,d),y:Y[M](0,f)},max:{x:O[M](0,d),y:O[M](0,f)}}}),Ft=e._path2curve=n(function(l,t){var e=!t&&At(l);if(!t&&e.curve)return Bt(e.curve);for(var r=Tt(l),i=t&&Tt(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(l,t,e){var r,i;if(!l)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(l[0]in{T:1,Q:1})&&(t.qx=t.qy=null),l[0]){case"M":t.X=l[1],t.Y=l[2];break;case"A":l=["C"][T](zt[M](0,[t.x,t.y][T](l.slice(1))));break;case"S":"C"==e||"S"==e?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),l=["C",r,i][T](l.slice(1));break;case"T":"Q"==e||"T"==e?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),l=["C"][T](It(t.x,t.y,t.qx,t.qy,l[1],l[2]));break;case"Q":t.qx=l[1],t.qy=l[2],l=["C"][T](It(t.x,t.y,l[1],l[2],l[3],l[4]));break;case"L":l=["C"][T](Et(t.x,t.y,l[1],l[2]));break;case"H":l=["C"][T](Et(t.x,t.y,l[1],t.y));break;case"V":l=["C"][T](Et(t.x,t.y,t.x,l[1]));break;case"Z":l=["C"][T](Et(t.x,t.y,t.X,t.Y))}return l}),o=function(l,t){if(l[t].length>7){l[t].shift();for(var e=l[t];e.length;)x[t]="A",i&&(c[t]="A"),l.splice(t++,0,["C"][T](e.splice(0,6)));l.splice(t,1),d=O(r.length,i&&i.length||0)}},h=function(l,t,e,n,a){l&&t&&"M"==l[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",n.x,n.y]),e.bx=0,e.by=0,e.x=l[a][1],e.y=l[a][2],d=O(r.length,i&&i.length||0))},x=[],c=[],y="",u="",f=0,d=O(r.length,i&&i.length||0);d>f;f++){r[f]&&(y=r[f][0]),"C"!=y&&(x[f]=y,f&&(u=x[f-1])),r[f]=s(r[f],n,u),"A"!=x[f]&&"C"==y&&(x[f]="C"),o(r,f),i&&(i[f]&&(y=i[f][0]),"C"!=y&&(c[f]=y,f&&(u=c[f-1])),i[f]=s(i[f],a,u),"A"!=c[f]&&"C"==y&&(c[f]="C"),o(i,f)),h(r,i,n,a,f),h(i,r,a,n,f);var p=r[f],v=i&&i[f],g=p.length,m=i&&v.length;n.x=p[g-2],n.y=p[g-1],n.bx=J(p[g-4])||n.x,n.by=J(p[g-3])||n.y,a.bx=i&&(J(v[m-4])||a.x),a.by=i&&(J(v[m-3])||a.y),a.x=i&&v[m-2],a.y=i&&v[m-1]}return i||(e.curve=Bt(r)),i?[r,i]:r},null,Bt),Rt=(e._parseDots=n(function(l){for(var t=[],r=0,i=l.length;i>r;r++){var n={},a=l[r].match(/^([^:]*):?([\d\.]*)/);if(n.color=e.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),t.push(n)}for(r=1,i=t.length-1;i>r;r++)if(!t[r].offset){for(var s=J(t[r-1].offset||0),o=0,h=r+1;i>h;h++)if(t[h].offset){o=t[h].offset;break}o||(o=100,h=i),o=J(o);for(var x=(o-s)/(h-r+1);h>r;r++)s+=x,t[r].offset=s+"%"}return t}),e._tear=function(l,t){l==t.top&&(t.top=l.prev),l==t.bottom&&(t.bottom=l.next),l.next&&(l.next.prev=l.prev),l.prev&&(l.prev.next=l.next)}),Dt=(e._tofront=function(l,t){t.top!==l&&(Rt(l,t),l.next=null,l.prev=t.top,t.top.next=l,t.top=l)},e._toback=function(l,t){t.bottom!==l&&(Rt(l,t),l.next=t.bottom,l.prev=null,t.bottom.prev=l,t.bottom=l)},e._insertafter=function(l,t,e){Rt(l,e),t==e.top&&(e.top=l),t.next&&(t.next.prev=l),l.next=t.next,l.prev=t,t.next=l},e._insertbefore=function(l,t,e){Rt(l,e),t==e.bottom&&(e.bottom=l),t.prev&&(t.prev.next=l),l.prev=t.prev,t.prev=l,l.next=t},e.toMatrix=function(l,t){var e=Lt(l),r={_:{transform:I},getBBox:function(){return e}};return jt(r,t),r.matrix}),jt=(e.transformPath=function(l,t){return vt(l,Dt(l,t))},e._extractTransform=function(l,t){if(null==t)return l._.transform;t=P(t).replace(/\.{3}|\u2026/g,l._.transform||I);var r=e.parseTransformString(t),i=0,n=0,a=0,s=1,o=1,h=l._,x=new f;if(h.transform=r||[],r)for(var c=0,y=r.length;y>c;c++){var u,d,p,v,g,m=r[c],b=m.length,_=P(m[0]).toLowerCase(),w=m[0]!=_,k=w?x.invert():0;"t"==_&&3==b?w?(u=k.x(0,0),d=k.y(0,0),p=k.x(m[1],m[2]),v=k.y(m[1],m[2]),x.translate(p-u,v-d)):x.translate(m[1],m[2]):"r"==_?2==b?(g=g||l.getBBox(1),x.rotate(m[1],g.x+g.width/2,g.y+g.height/2),i+=m[1]):4==b&&(w?(p=k.x(m[2],m[3]),v=k.y(m[2],m[3]),x.rotate(m[1],p,v)):x.rotate(m[1],m[2],m[3]),i+=m[1]):"s"==_?2==b||3==b?(g=g||l.getBBox(1),x.scale(m[1],m[b-1],g.x+g.width/2,g.y+g.height/2),s*=m[1],o*=m[b-1]):5==b&&(w?(p=k.x(m[3],m[4]),v=k.y(m[3],m[4]),x.scale(m[1],m[2],p,v)):x.scale(m[1],m[2],m[3],m[4]),s*=m[1],o*=m[2]):"m"==_&&7==b&&x.add(m[1],m[2],m[3],m[4],m[5],m[6]),h.dirtyT=1,l.matrix=x}l.matrix=x,h.sx=s,h.sy=o,h.deg=i,h.dx=n=x.e,h.dy=a=x.f,1==s&&1==o&&!i&&h.bbox?(h.bbox.x+=+n,h.bbox.y+=+a):h.dirtyT=1}),Ot=function(l){var t=l[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==l.length?[t,0,l[2],l[3]]:[t,0];case"s":return 5==l.length?[t,1,1,l[3],l[4]]:3==l.length?[t,1,1]:[t,1]}},Yt=e._equaliseTransform=function(l,t){t=P(t).replace(/\.{3}|\u2026/g,l),l=e.parseTransformString(l)||[],t=e.parseTransformString(t)||[];for(var r,i,n,a,s=O(l.length,t.length),o=[],h=[],x=0;s>x;x++){if(n=l[x]||Ot(t[x]),a=t[x]||Ot(n),n[0]!=a[0]||"r"==n[0].toLowerCase()&&(n[2]!=a[2]||n[3]!=a[3])||"s"==n[0].toLowerCase()&&(n[3]!=a[3]||n[4]!=a[4]))return;
for(o[x]=[],h[x]=[],r=0,i=O(n.length,a.length);i>r;r++)r in n&&(o[x][r]=n[r]),r in a&&(h[x][r]=a[r])}return{from:o,to:h}};e._getContainer=function(l,t,r,i){var n;return n=null!=i||e.is(l,"object")?l:A.doc.getElementById(l),null!=n?n.tagName?null==t?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:t,height:r}:{container:1,x:l,y:t,width:r,height:i}:void 0},e.pathToRelative=Mt,e._engine={},e.path2curve=Ft,e.matrix=function(l,t,e,r,i,n){return new f(l,t,e,r,i,n)},function(l){function t(l){return l[0]*l[0]+l[1]*l[1]}function r(l){var e=j.sqrt(t(l));l[0]&&(l[0]/=e),l[1]&&(l[1]/=e)}l.add=function(l,t,e,r,i,n){var a,s,o,h,x=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],y=[[l,e,i],[t,r,n],[0,0,1]];for(l&&l instanceof f&&(y=[[l.a,l.c,l.e],[l.b,l.d,l.f],[0,0,1]]),a=0;3>a;a++)for(s=0;3>s;s++){for(h=0,o=0;3>o;o++)h+=c[a][o]*y[o][s];x[a][s]=h}this.a=x[0][0],this.b=x[1][0],this.c=x[0][1],this.d=x[1][1],this.e=x[0][2],this.f=x[1][2]},l.invert=function(){var l=this,t=l.a*l.d-l.b*l.c;return new f(l.d/t,-l.b/t,-l.c/t,l.a/t,(l.c*l.f-l.d*l.e)/t,(l.b*l.e-l.a*l.f)/t)},l.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},l.translate=function(l,t){this.add(1,0,0,1,l,t)},l.scale=function(l,t,e,r){null==t&&(t=l),(e||r)&&this.add(1,0,0,1,e,r),this.add(l,0,0,t,0,0),(e||r)&&this.add(1,0,0,1,-e,-r)},l.rotate=function(l,t,r){l=e.rad(l),t=t||0,r=r||0;var i=+j.cos(l).toFixed(9),n=+j.sin(l).toFixed(9);this.add(i,n,-n,i,t,r),this.add(1,0,0,1,-t,-r)},l.x=function(l,t){return l*this.a+t*this.c+this.e},l.y=function(l,t){return l*this.b+t*this.d+this.f},l.get=function(l){return+this[P.fromCharCode(97+l)].toFixed(4)},l.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},l.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},l.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},l.split=function(){var l={};l.dx=this.e,l.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];l.scalex=j.sqrt(t(i[0])),r(i[0]),l.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*l.shear,i[1][1]-i[0][1]*l.shear],l.scaley=j.sqrt(t(i[1])),r(i[1]),l.shear/=l.scaley;var n=-i[0][1],a=i[1][1];return 0>a?(l.rotate=e.deg(j.acos(a)),0>n&&(l.rotate=360-l.rotate)):l.rotate=e.deg(j.asin(n)),l.isSimple=!(+l.shear.toFixed(9)||l.scalex.toFixed(9)!=l.scaley.toFixed(9)&&l.rotate),l.isSuperSimple=!+l.shear.toFixed(9)&&l.scalex.toFixed(9)==l.scaley.toFixed(9)&&!l.rotate,l.noRotation=!+l.shear.toFixed(9)&&!l.rotate,l},l.toTransformString=function(l){var t=l||this[N]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:I)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:I)+(t.rotate?"r"+[t.rotate,0,0]:I)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Gt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);_.safari="Apple Computer, Inc."==navigator.vendor&&(Gt&&4>Gt[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Gt&&8>Gt[1]?function(){var l=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){l.remove()})}:yt;for(var Xt=function(){this.returnValue=!1},qt=function(){return this.originalEvent.preventDefault()},Zt=function(){this.cancelBubble=!0},Vt=function(){return this.originalEvent.stopPropagation()},$t=function(l){var t=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,e=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;return{x:l.clientX+e,y:l.clientY+t}},Ht=function(){return A.doc.addEventListener?function(l,t,e,r){var i=function(l){var t=$t(l);return e.call(r,l,t.x,t.y)};if(l.addEventListener(t,i,!1),E&&R[t]){var n=function(t){for(var i=$t(t),n=t,a=0,s=t.targetTouches&&t.targetTouches.length;s>a;a++)if(t.targetTouches[a].target==l){t=t.targetTouches[a],t.originalEvent=n,t.preventDefault=qt,t.stopPropagation=Vt;break}return e.call(r,t,i.x,i.y)};l.addEventListener(R[t],n,!1)}return function(){return l.removeEventListener(t,i,!1),E&&R[t]&&l.removeEventListener(R[t],n,!1),!0}}:A.doc.attachEvent?function(l,t,e,r){var i=function(l){l=l||A.win.event;var t=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,i=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,n=l.clientX+i,a=l.clientY+t;return l.preventDefault=l.preventDefault||Xt,l.stopPropagation=l.stopPropagation||Zt,e.call(r,l,n,a)};l.attachEvent("on"+t,i);var n=function(){return l.detachEvent("on"+t,i),!0};return n}:void 0}(),Ut=[],Wt=function(l){for(var e,r=l.clientX,i=l.clientY,n=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,a=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,s=Ut.length;s--;){if(e=Ut[s],E&&l.touches){for(var o,h=l.touches.length;h--;)if(o=l.touches[h],o.identifier==e.el._drag.id){r=o.clientX,i=o.clientY,(l.originalEvent?l.originalEvent:l).preventDefault();break}}else l.preventDefault();var x,c=e.el.node,y=c.nextSibling,u=c.parentNode,f=c.style.display;A.win.opera&&u.removeChild(c),c.style.display="none",x=e.el.paper.getElementByPoint(r,i),c.style.display=f,A.win.opera&&(y?u.insertBefore(c,y):u.appendChild(c)),x&&t("raphael.drag.over."+e.el.id,e.el,x),r+=a,i+=n,t("raphael.drag.move."+e.el.id,e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,l)}},Kt=function(l){e.unmousemove(Wt).unmouseup(Kt);for(var r,i=Ut.length;i--;)r=Ut[i],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,l);Ut=[]},Qt=e.el={},Jt=F.length;Jt--;)(function(l){e[l]=Qt[l]=function(t,r){return e.is(t,"function")&&(this.events=this.events||[],this.events.push({name:l,f:t,unbind:Ht(this.shape||this.node||A.doc,l,t,r||this)})),this},e["un"+l]=Qt["un"+l]=function(t){for(var r=this.events||[],i=r.length;i--;)r[i].name!=l||!e.is(t,"undefined")&&r[i].f!=t||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}})(F[Jt]);Qt.data=function(l,r){var i=xt[this.id]=xt[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(e.is(l,"object")){for(var n in l)l[S](n)&&this.data(n,l[n]);return this}return t("raphael.data.get."+this.id,this,i[l],l),i[l]}return i[l]=r,t("raphael.data.set."+this.id,this,r,l),this},Qt.removeData=function(l){return null==l?xt[this.id]={}:xt[this.id]&&delete xt[this.id][l],this},Qt.getData=function(){return r(xt[this.id]||{})},Qt.hover=function(l,t,e,r){return this.mouseover(l,e).mouseout(t,r||e)},Qt.unhover=function(l,t){return this.unmouseover(l).unmouseout(t)};var le=[];Qt.drag=function(l,r,i,n,a,s){function o(o){(o.originalEvent||o).preventDefault();var h=o.clientX,x=o.clientY,c=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,y=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;if(this._drag.id=o.identifier,E&&o.touches)for(var u,f=o.touches.length;f--;)if(u=o.touches[f],this._drag.id=u.identifier,u.identifier==this._drag.id){h=u.clientX,x=u.clientY;break}this._drag.x=h+y,this._drag.y=x+c,!Ut.length&&e.mousemove(Wt).mouseup(Kt),Ut.push({el:this,move_scope:n,start_scope:a,end_scope:s}),r&&t.on("raphael.drag.start."+this.id,r),l&&t.on("raphael.drag.move."+this.id,l),i&&t.on("raphael.drag.end."+this.id,i),t("raphael.drag.start."+this.id,a||n||this,o.clientX+y,o.clientY+c,o)}return this._drag={},le.push({el:this,start:o}),this.mousedown(o),this},Qt.onDragOver=function(l){l?t.on("raphael.drag.over."+this.id,l):t.unbind("raphael.drag.over."+this.id)},Qt.undrag=function(){for(var l=le.length;l--;)le[l].el==this&&(this.unmousedown(le[l].start),le.splice(l,1),t.unbind("raphael.drag.*."+this.id));!le.length&&e.unmousemove(Wt).unmouseup(Kt),Ut=[]},_.circle=function(l,t,r){var i=e._engine.circle(this,l||0,t||0,r||0);return this.__set__&&this.__set__.push(i),i},_.rect=function(l,t,r,i,n){var a=e._engine.rect(this,l||0,t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},_.ellipse=function(l,t,r,i){var n=e._engine.ellipse(this,l||0,t||0,r||0,i||0);return this.__set__&&this.__set__.push(n),n},_.path=function(l){l&&!e.is(l,V)&&!e.is(l[0],$)&&(l+=I);var t=e._engine.path(e.format[M](e,arguments),this);return this.__set__&&this.__set__.push(t),t},_.image=function(l,t,r,i,n){var a=e._engine.image(this,l||"about:blank",t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},_.text=function(l,t,r){var i=e._engine.text(this,l||0,t||0,P(r));return this.__set__&&this.__set__.push(i),i},_.set=function(l){!e.is(l,"array")&&(l=Array.prototype.splice.call(arguments,0,arguments.length));var t=new ye(l);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},_.setStart=function(l){this.__set__=l||this.set()},_.setFinish=function(){var l=this.__set__;return delete this.__set__,l},_.setSize=function(l,t){return e._engine.setSize.call(this,l,t)},_.setViewBox=function(l,t,r,i,n){return e._engine.setViewBox.call(this,l,t,r,i,n)},_.top=_.bottom=null,_.raphael=e;var te=function(l){var t=l.getBoundingClientRect(),e=l.ownerDocument,r=e.body,i=e.documentElement,n=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=t.top+(A.win.pageYOffset||i.scrollTop||r.scrollTop)-n,o=t.left+(A.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:o}};_.getElementByPoint=function(l,t){var e=this,r=e.canvas,i=A.doc.elementFromPoint(l,t);if(A.win.opera&&"svg"==i.tagName){var n=te(r),a=r.createSVGRect();a.x=l-n.x,a.y=t-n.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==e.canvas.parentNode&&(i=r),i=i&&i.raphael?e.getById(i.raphaelid):null},_.getElementsByBBox=function(l){var t=this.set();return this.forEach(function(r){e.isBBoxIntersect(r.getBBox(),l)&&t.push(r)}),t},_.getById=function(l){for(var t=this.bottom;t;){if(t.id==l)return t;t=t.next}return null},_.forEach=function(l,t){for(var e=this.bottom;e;){if(l.call(t,e)===!1)return this;e=e.next}return this},_.getElementsByPoint=function(l,t){var e=this.set();return this.forEach(function(r){r.isPointInside(l,t)&&e.push(r)}),e},Qt.isPointInside=function(l,t){var r=this.realPath=pt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=e.transformPath(r,this.attr("transform"))),e.isPointInsidePath(r,l,t)},Qt.getBBox=function(l){if(this.removed)return{};var t=this._;return l?((t.dirty||!t.bboxwt)&&(this.realPath=pt[this.type](this),t.bboxwt=Lt(this.realPath),t.bboxwt.toString=d,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=pt[this.type](this)),t.bbox=Lt(vt(this.realPath,this.matrix)),t.bbox.toString=d,t.dirty=t.dirtyT=0),t.bbox)},Qt.clone=function(){if(this.removed)return null;var l=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(l),l},Qt.glow=function(l){if("text"==this.type)return null;l=l||{};var t={width:(l.width||10)+(+this.attr("stroke-width")||1),fill:l.fill||!1,opacity:l.opacity||.5,offsetx:l.offsetx||0,offsety:l.offsety||0,color:l.color||"#000"},e=t.width/2,r=this.paper,i=r.set(),n=this.realPath||pt[this.type](this);n=this.matrix?vt(n,this.matrix):n;for(var a=1;e+1>a;a++)i.push(r.path(n).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/e*a).toFixed(3),opacity:+(t.opacity/e).toFixed(3)}));return i.insertBefore(this).translate(t.offsetx,t.offsety)};var ee=function(l,t,r,i,n,a,s,o,c){return null==c?h(l,t,r,i,n,a,s,o):e.findDotsAtSegment(l,t,r,i,n,a,s,o,x(l,t,r,i,n,a,s,o,c))},re=function(l,t){return function(r,i,n){r=Ft(r);for(var a,s,o,h,x,c="",y={},u=0,f=0,d=r.length;d>f;f++){if(o=r[f],"M"==o[0])a=+o[1],s=+o[2];else{if(h=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6]),u+h>i){if(t&&!y.start){if(x=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6],i-u),c+=["C"+x.start.x,x.start.y,x.m.x,x.m.y,x.x,x.y],n)return c;y.start=c,c=["M"+x.x,x.y+"C"+x.n.x,x.n.y,x.end.x,x.end.y,o[5],o[6]].join(),u+=h,a=+o[5],s=+o[6];continue}if(!l&&!t)return x=ee(a,s,o[1],o[2],o[3],o[4],o[5],o[6],i-u),{x:x.x,y:x.y,alpha:x.alpha}}u+=h,a=+o[5],s=+o[6]}c+=o.shift()+o}return y.end=c,x=l?u:t?y:e.findDotsAtSegment(a,s,o[0],o[1],o[2],o[3],o[4],o[5],1),x.alpha&&(x={x:x.x,y:x.y,alpha:x.alpha}),x}},ie=re(1),ne=re(),ae=re(0,1);e.getTotalLength=ie,e.getPointAtLength=ne,e.getSubpath=function(l,t,e){if(1e-6>this.getTotalLength(l)-e)return ae(l,t).end;var r=ae(l,e,1);return t?ae(r,t).end:r},Qt.getTotalLength=function(){var l=this.getPath();if(l)return this.node.getTotalLength?this.node.getTotalLength():ie(l)},Qt.getPointAtLength=function(l){var t=this.getPath();if(t)return ne(t,l)},Qt.getPath=function(){var l,t=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(l=t(this)),l},Qt.getSubpath=function(l,t){var r=this.getPath();if(r)return e.getSubpath(r,l,t)};var se=e.easing_formulas={linear:function(l){return l},"<":function(l){return X(l,1.7)},">":function(l){return X(l,.48)},"<>":function(l){var t=.48-l/1.04,e=j.sqrt(.1734+t*t),r=e-t,i=X(G(r),1/3)*(0>r?-1:1),n=-e-t,a=X(G(n),1/3)*(0>n?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(l){var t=1.70158;return l*l*((t+1)*l-t)},backOut:function(l){l-=1;var t=1.70158;return l*l*((t+1)*l+t)+1},elastic:function(l){return l==!!l?l:X(2,-10*l)*j.sin((l-.075)*2*q/.3)+1},bounce:function(l){var t,e=7.5625,r=2.75;return 1/r>l?t=e*l*l:2/r>l?(l-=1.5/r,t=e*l*l+.75):2.5/r>l?(l-=2.25/r,t=e*l*l+.9375):(l-=2.625/r,t=e*l*l+.984375),t}};se.easeIn=se["ease-in"]=se["<"],se.easeOut=se["ease-out"]=se[">"],se.easeInOut=se["ease-in-out"]=se["<>"],se["back-in"]=se.backIn,se["back-out"]=se.backOut;var oe=[],he=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(l){setTimeout(l,16)},xe=function(){for(var l=+new Date,r=0;oe.length>r;r++){var i=oe[r];if(!i.el.removed&&!i.paused){var n,a,s=l-i.start,o=i.ms,h=i.easing,x=i.from,c=i.diff,y=i.to,u=(i.t,i.el),f={},d={};if(i.initstatus?(s=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*o,i.status=i.initstatus,delete i.initstatus,i.stop&&oe.splice(r--,1)):i.status=(i.prev+(i.percent-i.prev)*(s/o))/i.anim.top,!(0>s))if(o>s){var p=h(s/o);for(var v in x)if(x[S](v)){switch(rt[v]){case Z:n=+x[v]+p*o*c[v];break;case"colour":n="rgb("+[ce(Q(x[v].r+p*o*c[v].r)),ce(Q(x[v].g+p*o*c[v].g)),ce(Q(x[v].b+p*o*c[v].b))].join(",")+")";break;case"path":n=[];for(var m=0,b=x[v].length;b>m;m++){n[m]=[x[v][m][0]];for(var _=1,w=x[v][m].length;w>_;_++)n[m][_]=+x[v][m][_]+p*o*c[v][m][_];n[m]=n[m].join(z)}n=n.join(z);break;case"transform":if(c[v].real)for(n=[],m=0,b=x[v].length;b>m;m++)for(n[m]=[x[v][m][0]],_=1,w=x[v][m].length;w>_;_++)n[m][_]=x[v][m][_]+p*o*c[v][m][_];else{var k=function(l){return+x[v][l]+p*o*c[v][l]};n=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==v)for(n=[],m=4;m--;)n[m]=+x[v][m]+p*o*c[v][m];break;default:var C=[][T](x[v]);for(n=[],m=u.paper.customAttributes[v].length;m--;)n[m]=+C[m]+p*o*c[v][m]}f[v]=n}u.attr(f),function(l,e,r){setTimeout(function(){t("raphael.anim.frame."+l,e,r)})}(u.id,u,i.anim)}else{if(function(l,r,i){setTimeout(function(){t("raphael.anim.frame."+r.id,r,i),t("raphael.anim.finish."+r.id,r,i),e.is(l,"function")&&l.call(r)})}(i.callback,u,i.anim),u.attr(y),oe.splice(r--,1),i.repeat>1&&!i.next){for(a in y)y[S](a)&&(d[a]=i.totalOrigin[a]);i.el.attr(d),g(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&g(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}e.svg&&u&&u.paper&&u.paper.safari(),oe.length&&he(xe)},ce=function(l){return l>255?255:0>l?0:l};Qt.animateWith=function(l,t,r,i,n,a){var s=this;if(s.removed)return a&&a.call(s),s;var o=r instanceof v?r:e.animation(r,i,n,a);g(o,s,o.percents[0],null,s.attr());for(var h=0,x=oe.length;x>h;h++)if(oe[h].anim==t&&oe[h].el==l){oe[x-1].start=oe[h].start;break}return s},Qt.onAnimation=function(l){return l?t.on("raphael.anim.frame."+this.id,l):t.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(l){var t=new v(this.anim,this.ms);return t.times=this.times,t.del=+l||0,t},v.prototype.repeat=function(l){var t=new v(this.anim,this.ms);return t.del=this.del,t.times=j.floor(O(l,0))||1,t},e.animation=function(l,t,r,i){if(l instanceof v)return l;(e.is(r,"function")||!r)&&(i=i||r||null,r=null),l=Object(l),t=+t||0;var n,a,s={};for(a in l)l[S](a)&&J(a)!=a&&J(a)+"%"!=a&&(n=!0,s[a]=l[a]);return n?(r&&(s.easing=r),i&&(s.callback=i),new v({100:s},t)):new v(l,t)},Qt.animate=function(l,t,r,i){var n=this;if(n.removed)return i&&i.call(n),n;var a=l instanceof v?l:e.animation(l,t,r,i);return g(a,n,a.percents[0],null,n.attr()),n},Qt.setTime=function(l,t){return l&&null!=t&&this.status(l,Y(t,l.ms)/l.ms),this},Qt.status=function(l,t){var e,r,i=[],n=0;if(null!=t)return g(l,this,-1,Y(t,1)),this;for(e=oe.length;e>n;n++)if(r=oe[n],r.el.id==this.id&&(!l||r.anim==l)){if(l)return r.status;i.push({anim:r.anim,status:r.status})}return l?0:i},Qt.pause=function(l){for(var e=0;oe.length>e;e++)oe[e].el.id!=this.id||l&&oe[e].anim!=l||t("raphael.anim.pause."+this.id,this,oe[e].anim)!==!1&&(oe[e].paused=!0);return this},Qt.resume=function(l){for(var e=0;oe.length>e;e++)if(oe[e].el.id==this.id&&(!l||oe[e].anim==l)){var r=oe[e];t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},Qt.stop=function(l){for(var e=0;oe.length>e;e++)oe[e].el.id!=this.id||l&&oe[e].anim!=l||t("raphael.anim.stop."+this.id,this,oe[e].anim)!==!1&&oe.splice(e--,1);return this},t.on("raphael.remove",m),t.on("raphael.clear",m),Qt.toString=function(){return"Raphaël’s object"};var ye=function(l){if(this.items=[],this.length=0,this.type="set",l)for(var t=0,e=l.length;e>t;t++)!l[t]||l[t].constructor!=Qt.constructor&&l[t].constructor!=ye||(this[this.items.length]=this.items[this.items.length]=l[t],this.length++)},ue=ye.prototype;ue.push=function(){for(var l,t,e=0,r=arguments.length;r>e;e++)l=arguments[e],!l||l.constructor!=Qt.constructor&&l.constructor!=ye||(t=this.items.length,this[t]=this.items[t]=l,this.length++);return this},ue.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ue.forEach=function(l,t){for(var e=0,r=this.items.length;r>e;e++)if(l.call(t,this.items[e],e)===!1)return this;return this};for(var fe in Qt)Qt[S](fe)&&(ue[fe]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l][M](e,t)})}}(fe));return ue.attr=function(l,t){if(l&&e.is(l,$)&&e.is(l[0],"object"))for(var r=0,i=l.length;i>r;r++)this.items[r].attr(l[r]);else for(var n=0,a=this.items.length;a>n;n++)this.items[n].attr(l,t);return this},ue.clear=function(){for(;this.length;)this.pop()},ue.splice=function(l,t){l=0>l?O(this.length+l,0):l,t=O(0,Y(this.length-l,t));var e,r=[],i=[],n=[];for(e=2;arguments.length>e;e++)n.push(arguments[e]);for(e=0;t>e;e++)i.push(this[l+e]);for(;this.length-l>e;e++)r.push(this[l+e]);var a=n.length;for(e=0;a+r.length>e;e++)this.items[l+e]=this[l+e]=a>e?n[e]:r[e-a];for(e=this.items.length=this.length-=t-a;this[e];)delete this[e++];return new ye(i)},ue.exclude=function(l){for(var t=0,e=this.length;e>t;t++)if(this[t]==l)return this.splice(t,1),!0},ue.animate=function(l,t,r,i){(e.is(r,"function")||!r)&&(i=r||null);var n,a,s=this.items.length,o=s,h=this;if(!s)return this;i&&(a=function(){!--s&&i.call(h)}),r=e.is(r,V)?r:a;var x=e.animation(l,t,r,a);for(n=this.items[--o].animate(x);o--;)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(n,x,x),this.items[o]&&!this.items[o].removed||s--;return this},ue.insertAfter=function(l){for(var t=this.items.length;t--;)this.items[t].insertAfter(l);return this},ue.getBBox=function(){for(var l=[],t=[],e=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var n=this.items[i].getBBox();l.push(n.x),t.push(n.y),e.push(n.x+n.width),r.push(n.y+n.height)}return l=Y[M](0,l),t=Y[M](0,t),e=O[M](0,e),r=O[M](0,r),{x:l,y:t,x2:e,y2:r,width:e-l,height:r-t}},ue.clone=function(l){l=this.paper.set();for(var t=0,e=this.items.length;e>t;t++)l.push(this.items[t].clone());return l},ue.toString=function(){return"Raphaël‘s set"},ue.glow=function(l){var t=this.paper.set();return this.forEach(function(e){var r=e.glow(l);null!=r&&r.forEach(function(l){t.push(l)})}),t},ue.isPointInside=function(l,t){var e=!1;return this.forEach(function(r){return r.isPointInside(l,t)?(e=!0,!1):void 0}),e},e.registerFont=function(l){if(!l.face)return l;this.fonts=this.fonts||{};var t={w:l.w,face:{},glyphs:{}},e=l.face["font-family"];for(var r in l.face)l.face[S](r)&&(t.face[r]=l.face[r]);if(this.fonts[e]?this.fonts[e].push(t):this.fonts[e]=[t],!l.svg){t.face["units-per-em"]=lt(l.face["units-per-em"],10);for(var i in l.glyphs)if(l.glyphs[S](i)){var n=l.glyphs[i];if(t.glyphs[i]={w:n.w,k:{},d:n.d&&"M"+n.d.replace(/[mlcxtrv]/g,function(l){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[l]||"M"})+"z"},n.k)for(var a in n.k)n[S](a)&&(t.glyphs[i].k[a]=n.k[a])}}return l},_.getFont=function(l,t,r,i){if(i=i||"normal",r=r||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,e.fonts){var n=e.fonts[l];if(!n){var a=RegExp("(^|\\s)"+l.replace(/[^\w\d\s+!~.:_-]/g,I)+"(\\s|$)","i");for(var s in e.fonts)if(e.fonts[S](s)&&a.test(s)){n=e.fonts[s];break}}var o;if(n)for(var h=0,x=n.length;x>h&&(o=n[h],o.face["font-weight"]!=t||o.face["font-style"]!=r&&o.face["font-style"]||o.face["font-stretch"]!=i);h++);return o}},_.print=function(l,t,r,i,n,a,s,o){a=a||"middle",s=O(Y(s||0,1),-1),o=O(Y(o||1,3),1);var h,x=P(r)[N](I),c=0,y=0,u=I;if(e.is(i,"string")&&(i=this.getFont(i)),i){h=(n||16)/i.face["units-per-em"];for(var f=i.face.bbox[N](w),d=+f[0],p=f[3]-f[1],v=0,g=+f[1]+("baseline"==a?p+ +i.face.descent:p/2),m=0,b=x.length;b>m;m++){if("\n"==x[m])c=0,k=0,y=0,v+=p*o;else{var _=y&&i.glyphs[x[m-1]]||{},k=i.glyphs[x[m]];c+=y?(_.w||i.w)+(_.k&&_.k[x[m]]||0)+i.w*s:0,y=1}k&&k.d&&(u+=e.transformPath(k.d,["t",c*h,v*h,"s",h,h,d,g,"t",(l-d)/h,(t-g)/h]))}}return this.path(u).attr({fill:"#000",stroke:"none"})},_.add=function(l){if(e.is(l,"array"))for(var t,r=this.set(),i=0,n=l.length;n>i;i++)t=l[i]||{},k[S](t.type)&&r.push(this[t.type]().attr(t));return r},e.format=function(l,t){var r=e.is(t,$)?[0][T](t):arguments;return l&&e.is(l,V)&&r.length-1&&(l=l.replace(C,function(l,t){return null==r[++t]?I:r[t]})),l||I},e.fullfill=function(){var l=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(l,e,r){var i=r;return e.replace(t,function(l,t,e,r,n){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&n&&(i=i()))}),i=(null==i||i==r?l:i)+""};return function(t,r){return(t+"").replace(l,function(l,t){return e(l,t,r)})}}(),e.ninja=function(){return L.was?A.win.Raphael=L.is:delete Raphael,e},e.st=ue,function(l,t,r){function i(){/in/.test(l.readyState)?setTimeout(i,9):e.eve("raphael.DOMload")}null==l.readyState&&l.addEventListener&&(l.addEventListener(t,r=function(){l.removeEventListener(t,r,!1),l.readyState="complete"},!1),l.readyState="loading"),i()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){b=!0}),function(){if(e.svg){var l="hasOwnProperty",t=String,r=parseFloat,i=parseInt,n=Math,a=n.max,s=n.abs,o=n.pow,h=/[, ]+/,x=e.eve,c="",y=" ",u="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},d={};e.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var p=function(r,i){if(i){"string"==typeof r&&(r=p(r));for(var n in i)i[l](n)&&("xlink:"==n.substring(0,6)?r.setAttributeNS(u,n.substring(6),t(i[n])):r.setAttribute(n,t(i[n])))}else r=e._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(l,i){var h="linear",x=l.id+i,y=.5,u=.5,f=l.node,d=l.paper,v=f.style,g=e._g.doc.getElementById(x);if(!g){if(i=t(i).replace(e._radial_gradient,function(l,t,e){if(h="radial",t&&e){y=r(t),u=r(e);var i=2*(u>.5)-1;o(y-.5,2)+o(u-.5,2)>.25&&(u=n.sqrt(.25-o(y-.5,2))*i+.5)&&.5!=u&&(u=u.toFixed(5)-1e-5*i)}return c}),i=i.split(/\s*\-\s*/),"linear"==h){var m=i.shift();if(m=-r(m),isNaN(m))return null;var b=[0,0,n.cos(e.rad(m)),n.sin(e.rad(m))],_=1/(a(s(b[2]),s(b[3]))||1);b[2]*=_,b[3]*=_,0>b[2]&&(b[0]=-b[2],b[2]=0),0>b[3]&&(b[1]=-b[3],b[3]=0)}var w=e._parseDots(i);if(!w)return null;if(x=x.replace(/[\(\)\s,\xb0#]/g,"_"),l.gradient&&x!=l.gradient.id&&(d.defs.removeChild(l.gradient),delete l.gradient),!l.gradient){g=p(h+"Gradient",{id:x}),l.gradient=g,p(g,"radial"==h?{fx:y,fy:u}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:l.matrix.invert()}),d.defs.appendChild(g);for(var k=0,C=w.length;C>k;k++)g.appendChild(p("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return p(f,{fill:"url(#"+x+")",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},g=function(l){var t=l.getBBox(1);p(l.pattern,{patternTransform:l.matrix.invert()+" translate("+t.x+","+t.y+")"})},m=function(r,i,n){if("path"==r.type){for(var a,s,o,h,x,y=t(i).toLowerCase().split("-"),u=r.paper,v=n?"end":"start",g=r.node,m=r.attrs,b=m["stroke-width"],_=y.length,w="classic",k=3,C=3,S=5;_--;)switch(y[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=y[_];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,S+=2,o=1,h=n?4:1,x={fill:"none",stroke:m.stroke}):(h=o=k/2,x={fill:m.stroke,stroke:"none"}),r._.arrows?n?(r._.arrows.endPath&&d[r._.arrows.endPath]--,r._.arrows.endMarker&&d[r._.arrows.endMarker]--):(r._.arrows.startPath&&d[r._.arrows.startPath]--,r._.arrows.startMarker&&d[r._.arrows.startMarker]--):r._.arrows={},"none"!=w){var A="raphael-marker-"+w,L="raphael-marker-"+v+w+k+C+"-obj"+r.id;e._g.doc.getElementById(A)?d[A]++:(u.defs.appendChild(p(p("path"),{"stroke-linecap":"round",d:f[w],id:A})),d[A]=1);var B,M=e._g.doc.getElementById(L);M?(d[L]++,B=M.getElementsByTagName("use")[0]):(M=p(p("marker"),{id:L,markerHeight:C,markerWidth:k,orient:"auto",refX:h,refY:C/2}),B=p(p("use"),{"xlink:href":"#"+A,transform:(n?"rotate(180 "+k/2+" "+C/2+") ":c)+"scale("+k/S+","+C/S+")","stroke-width":(1/((k/S+C/S)/2)).toFixed(4)}),M.appendChild(B),u.defs.appendChild(M),d[L]=1),p(B,x);var T=o*("diamond"!=w&&"oval"!=w);n?(a=r._.arrows.startdx*b||0,s=e.getTotalLength(m.path)-T*b):(a=T*b,s=e.getTotalLength(m.path)-(r._.arrows.enddx*b||0)),x={},x["marker-"+v]="url(#"+L+")",(s||a)&&(x.d=e.getSubpath(m.path,a,s)),p(g,x),r._.arrows[v+"Path"]=A,r._.arrows[v+"Marker"]=L,r._.arrows[v+"dx"]=T,r._.arrows[v+"Type"]=w,r._.arrows[v+"String"]=i}else n?(a=r._.arrows.startdx*b||0,s=e.getTotalLength(m.path)-a):(a=0,s=e.getTotalLength(m.path)-(r._.arrows.enddx*b||0)),r._.arrows[v+"Path"]&&p(g,{d:e.getSubpath(m.path,a,s)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(x in d)if(d[l](x)&&!d[x]){var E=e._g.doc.getElementById(x);E&&E.parentNode.removeChild(E)}}},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(l,e,r){if(e=b[t(e).toLowerCase()]){for(var i=l.attrs["stroke-width"]||"1",n={round:i,square:i,butt:0}[l.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*i+(s%2?1:-1)*n;p(l.node,{"stroke-dasharray":a.join(",")})}},w=function(r,n){var o=r.node,x=r.attrs,y=o.style.visibility;o.style.visibility="hidden";for(var f in n)if(n[l](f)){if(!e._availableAttrs[l](f))continue;var d=n[f];switch(x[f]=d,f){case"blur":r.blur(d);break;case"title":var b=p("title"),w=e._g.doc.createTextNode(d);b.appendChild(w),o.appendChild(b);break;case"href":case"target":var k=o.parentNode;if("a"!=k.tagName.toLowerCase()){var b=p("a");k.insertBefore(b,o),b.appendChild(o),k=b}"target"==f?k.setAttributeNS(u,"show","blank"==d?"new":d):k.setAttributeNS(u,f,d);break;case"cursor":o.style.cursor=d;break;case"transform":r.transform(d);break;case"arrow-start":m(r,d);break;case"arrow-end":m(r,d,1);break;case"clip-rect":var S=t(d).split(h);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var A=p("clipPath"),L=p("rect");A.id=e.createUUID(),p(L,{x:S[0],y:S[1],width:S[2],height:S[3]}),A.appendChild(L),r.paper.defs.appendChild(A),p(o,{"clip-path":"url(#"+A.id+")"}),r.clip=L}if(!d){var B=o.getAttribute("clip-path");if(B){var M=e._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,c));M&&M.parentNode.removeChild(M),p(o,{"clip-path":c}),delete r.clip}}break;case"path":"path"==r.type&&(p(o,{d:d?x.path=e._pathToAbsolute(d):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&m(r,r._.arrows.startString),"endString"in r._.arrows&&m(r,r._.arrows.endString,1)));break;case"width":if(o.setAttribute(f,d),r._.dirty=1,!x.fx)break;f="x",d=x.x;case"x":x.fx&&(d=-x.x-(x.width||0));case"rx":if("rx"==f&&"rect"==r.type)break;case"cx":o.setAttribute(f,d),r.pattern&&g(r),r._.dirty=1;break;case"height":if(o.setAttribute(f,d),r._.dirty=1,!x.fy)break;f="y",d=x.y;case"y":x.fy&&(d=-x.y-(x.height||0));case"ry":if("ry"==f&&"rect"==r.type)break;case"cy":o.setAttribute(f,d),r.pattern&&g(r),r._.dirty=1;break;case"r":"rect"==r.type?p(o,{rx:d,ry:d}):o.setAttribute(f,d),r._.dirty=1;break;case"src":"image"==r.type&&o.setAttributeNS(u,"href",d);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(d/=a(s(r._.sx),s(r._.sy))||1),r.paper._vbSize&&(d*=r.paper._vbSize),o.setAttribute(f,d),x["stroke-dasharray"]&&_(r,x["stroke-dasharray"],n),r._.arrows&&("startString"in r._.arrows&&m(r,r._.arrows.startString),"endString"in r._.arrows&&m(r,r._.arrows.endString,1));break;case"stroke-dasharray":_(r,d,n);break;case"fill":var T=t(d).match(e._ISURL);if(T){A=p("pattern");var E=p("image");A.id=e.createUUID(),p(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),p(E,{x:0,y:0,"xlink:href":T[1]}),A.appendChild(E),function(l){e._preload(T[1],function(){var t=this.offsetWidth,e=this.offsetHeight;p(l,{width:t,height:e}),p(E,{width:t,height:e}),r.paper.safari()})}(A),r.paper.defs.appendChild(A),p(o,{fill:"url(#"+A.id+")"}),r.pattern=A,r.pattern&&g(r);break}var I=e.getRGB(d);if(I.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=t(d).charAt())&&v(r,d)){if("opacity"in x||"fill-opacity"in x){var z=e._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(z){var P=z.getElementsByTagName("stop");p(P[P.length-1],{"stop-opacity":("opacity"in x?x.opacity:1)*("fill-opacity"in x?x["fill-opacity"]:1)})}}x.gradient=d,x.fill="none";break}}else delete n.gradient,delete x.gradient,!e.is(x.opacity,"undefined")&&e.is(n.opacity,"undefined")&&p(o,{opacity:x.opacity}),!e.is(x["fill-opacity"],"undefined")&&e.is(n["fill-opacity"],"undefined")&&p(o,{"fill-opacity":x["fill-opacity"]});I[l]("opacity")&&p(o,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=e.getRGB(d),o.setAttribute(f,I.hex),"stroke"==f&&I[l]("opacity")&&p(o,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),"stroke"==f&&r._.arrows&&("startString"in r._.arrows&&m(r,r._.arrows.startString),"endString"in r._.arrows&&m(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=t(d).charAt())&&v(r,d);break;case"opacity":x.gradient&&!x[l]("stroke-opacity")&&p(o,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(x.gradient){z=e._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,c)),z&&(P=z.getElementsByTagName("stop"),p(P[P.length-1],{"stop-opacity":d}));break}default:"font-size"==f&&(d=i(d,10)+"px");var N=f.replace(/(\-.)/g,function(l){return l.substring(1).toUpperCase()});o.style[N]=d,r._.dirty=1,o.setAttribute(f,d)}}C(r,n),o.style.visibility=y},k=1.2,C=function(r,n){if("text"==r.type&&(n[l]("text")||n[l]("font")||n[l]("font-size")||n[l]("x")||n[l]("y"))){var a=r.attrs,s=r.node,o=s.firstChild?i(e._g.doc.defaultView.getComputedStyle(s.firstChild,c).getPropertyValue("font-size"),10):10;
if(n[l]("text")){for(a.text=n.text;s.firstChild;)s.removeChild(s.firstChild);for(var h,x=t(n.text).split("\n"),y=[],u=0,f=x.length;f>u;u++)h=p("tspan"),u&&p(h,{dy:o*k,x:a.x}),h.appendChild(e._g.doc.createTextNode(x[u])),s.appendChild(h),y[u]=h}else for(y=s.getElementsByTagName("tspan"),u=0,f=y.length;f>u;u++)u?p(y[u],{dy:o*k,x:a.x}):p(y[0],{dy:0});p(s,{x:a.x,y:a.y}),r._.dirty=1;var d=r._getBBox(),v=a.y-(d.y+d.height/2);v&&e.is(v,"finite")&&p(y[0],{dy:v})}},S=function(l,t){this[0]=this.node=l,l.raphael=!0,this.id=e._oid++,l.raphaelid=this.id,this.matrix=e.matrix(),this.realPath=null,this.paper=t,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},A=e.el;S.prototype=A,A.constructor=S,e._engine.path=function(l,t){var e=p("path");t.canvas&&t.canvas.appendChild(e);var r=new S(e,t);return r.type="path",w(r,{fill:"none",stroke:"#000",path:l}),r},A.rotate=function(l,e,i){if(this.removed)return this;if(l=t(l).split(h),l.length-1&&(e=r(l[1]),i=r(l[2])),l=r(l[0]),null==i&&(e=i),null==e||null==i){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}return this.transform(this._.transform.concat([["r",l,e,i]])),this},A.scale=function(l,e,i,n){if(this.removed)return this;if(l=t(l).split(h),l.length-1&&(e=r(l[1]),i=r(l[2]),n=r(l[3])),l=r(l[0]),null==e&&(e=l),null==n&&(i=n),null==i||null==n)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,n=null==n?a.y+a.height/2:n,this.transform(this._.transform.concat([["s",l,e,i,n]])),this},A.translate=function(l,e){return this.removed?this:(l=t(l).split(h),l.length-1&&(e=r(l[1])),l=r(l[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",l,e]])),this)},A.transform=function(t){var r=this._;if(null==t)return r.transform;if(e._extractTransform(this,t),this.clip&&p(this.clip,{transform:this.matrix.invert()}),this.pattern&&g(this),this.node&&p(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[l]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed&&this.node.parentNode){var l=this.paper;l.__set__&&l.__set__.exclude(this),x.unbind("raphael.*.*."+this.id),this.gradient&&l.defs.removeChild(this.gradient),e._tear(this,l),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var t in this)this[t]="function"==typeof this[t]?e._removedFactory(t):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var l=!0}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}return l&&this.hide(),t},A.attr=function(t,r){if(this.removed)return this;if(null==t){var i={};for(var n in this.attrs)this.attrs[l](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&e.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var a=t.split(h),s={},o=0,c=a.length;c>o;o++)t=a[o],s[t]=t in this.attrs?this.attrs[t]:e.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:e._availableAttrs[t];return c-1?s:s[a[0]]}if(null==r&&e.is(t,"array")){for(s={},o=0,c=t.length;c>o;o++)s[t[o]]=this.attr(t[o]);return s}if(null!=r){var y={};y[t]=r}else null!=t&&e.is(t,"object")&&(y=t);for(var u in y)x("raphael.attr."+u+"."+this.id,this,y[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[l](u)&&y[l](u)&&e.is(this.paper.customAttributes[u],"function")){var f=this.paper.customAttributes[u].apply(this,[].concat(y[u]));this.attrs[u]=y[u];for(var d in f)f[l](d)&&(y[d]=f[d])}return w(this,y),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var l=this.paper;return l.top!=this&&e._tofront(this,l),this},A.toBack=function(){if(this.removed)return this;var l=this.node.parentNode;return"a"==l.tagName.toLowerCase()?l.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):l.firstChild!=this.node&&l.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper),this.paper,this},A.insertAfter=function(l){if(this.removed)return this;var t=l.node||l[l.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),e._insertafter(this,l,this.paper),this},A.insertBefore=function(l){if(this.removed)return this;var t=l.node||l[0].node;return t.parentNode.insertBefore(this.node,t),e._insertbefore(this,l,this.paper),this},A.blur=function(l){var t=this;if(0!==+l){var r=p("filter"),i=p("feGaussianBlur");t.attrs.blur=l,r.id=e.createUUID(),p(i,{stdDeviation:+l||1.5}),r.appendChild(i),t.paper.defs.appendChild(r),t._blur=r,p(t.node,{filter:"url(#"+r.id+")"})}else t._blur&&(t._blur.parentNode.removeChild(t._blur),delete t._blur,delete t.attrs.blur),t.node.removeAttribute("filter");return t},e._engine.circle=function(l,t,e,r){var i=p("circle");l.canvas&&l.canvas.appendChild(i);var n=new S(i,l);return n.attrs={cx:t,cy:e,r:r,fill:"none",stroke:"#000"},n.type="circle",p(i,n.attrs),n},e._engine.rect=function(l,t,e,r,i,n){var a=p("rect");l.canvas&&l.canvas.appendChild(a);var s=new S(a,l);return s.attrs={x:t,y:e,width:r,height:i,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},s.type="rect",p(a,s.attrs),s},e._engine.ellipse=function(l,t,e,r,i){var n=p("ellipse");l.canvas&&l.canvas.appendChild(n);var a=new S(n,l);return a.attrs={cx:t,cy:e,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",p(n,a.attrs),a},e._engine.image=function(l,t,e,r,i,n){var a=p("image");p(a,{x:e,y:r,width:i,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(u,"href",t),l.canvas&&l.canvas.appendChild(a);var s=new S(a,l);return s.attrs={x:e,y:r,width:i,height:n,src:t},s.type="image",s},e._engine.text=function(l,t,r,i){var n=p("text");l.canvas&&l.canvas.appendChild(n);var a=new S(n,l);return a.attrs={x:t,y:r,"text-anchor":"middle",text:i,font:e._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",w(a,a.attrs),a},e._engine.setSize=function(l,t){return this.width=l||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},e._engine.create=function(){var l=e._getContainer.apply(0,arguments),t=l&&l.container,r=l.x,i=l.y,n=l.width,a=l.height;if(!t)throw Error("SVG container not found.");var s,o=p("svg"),h="overflow:hidden;";return r=r||0,i=i||0,n=n||512,a=a||342,p(o,{height:a,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg"}),1==t?(o.style.cssText=h+"position:absolute;",e._g.doc.body.appendChild(o),s=1):(o.style.cssText=h+"position:absolute",t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)),t=new e._Paper,t.width=n,t.height=a,t.canvas=o,t.clear(),t._left=t._top=0,s&&(t.renderfix=function(){}),t.renderfix(),t},e._engine.setViewBox=function(l,t,e,r,i){x("raphael.setViewBox",this,this._viewBox,[l,t,e,r,i]);var n,s,o=a(e/this.width,r/this.height),h=this.top,c=i?"meet":"xMinYMin";for(null==l?(this._vbSize&&(o=1),delete this._vbSize,n="0 0 "+this.width+y+this.height):(this._vbSize=o,n=l+y+t+y+e+y+r),p(this.canvas,{viewBox:n,preserveAspectRatio:c});o&&h;)s="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":s}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[l,t,e,r,!!i],this},e.prototype.renderfix=function(){var l,t=this.canvas,e=t.style;try{l=t.getScreenCTM()||t.createSVGMatrix()}catch(r){l=t.createSVGMatrix()}e.top="auto",e.left="auto"},e.prototype.clear=function(){e.eve("raphael.clear",this);for(var l=this.canvas;l.firstChild;)l.removeChild(l.firstChild);this.bottom=this.top=null,(this.desc=p("desc")).appendChild(e._g.doc.createTextNode("Created with Raphaël "+e.version)),l.appendChild(this.desc),l.appendChild(this.defs=p("defs"))},e.prototype.remove=function(){x("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null};var L=e.st;for(var B in A)A[l](B)&&!L[l](B)&&(L[B]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l].apply(e,t)})}}(B))}}(),function(){if(e.vml){var l="hasOwnProperty",t=String,r=parseFloat,i=Math,n=i.round,a=i.max,s=i.min,o=i.abs,h="fill",x=/[, ]+/,c=e.eve,y=" progid:DXImageTransform.Microsoft",u=" ",f="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px",b=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(l){var r=/[ahqstv]/gi,i=e._pathToAbsolute;if(t(l).match(r)&&(i=e._path2curve),r=/[clmz]/g,i==e._pathToAbsolute&&!t(l).match(r)){var a=t(l).replace(p,function(l,t,e){var r=[],i="m"==t.toLowerCase(),a=d[t];return e.replace(g,function(l){i&&2==r.length&&(a+=r+d["m"==t?"l":"L"],r=[]),r.push(n(l*b))}),a+r});return a}var s,o,h=i(l);a=[];for(var x=0,c=h.length;c>x;x++){s=h[x],o=h[x][0].toLowerCase(),"z"==o&&(o="x");for(var y=1,v=s.length;v>y;y++)o+=n(s[y]*b)+(y!=v-1?",":f);a.push(o)}return a.join(u)},C=function(l,t,r){var i=e.matrix();return i.rotate(-l,.5,.5),{dx:i.x(t,r),dy:i.y(t,r)}},S=function(l,t,e,r,i,n){var a=l._,s=l.matrix,x=a.fillpos,c=l.node,y=c.style,f=1,d="",p=b/t,v=b/e;if(y.visibility="hidden",t&&e){if(c.coordsize=o(p)+u+o(v),y.rotation=n*(0>t*e?-1:1),n){var g=C(n,r,i);r=g.dx,i=g.dy}if(0>t&&(d+="x"),0>e&&(d+=" y")&&(f=-1),y.flip=d,c.coordorigin=r*-p+u+i*-v,x||a.fillsize){var m=c.getElementsByTagName(h);m=m&&m[0],c.removeChild(m),x&&(g=C(n,s.x(x[0],x[1]),s.y(x[0],x[1])),m.position=g.dx*f+u+g.dy*f),a.fillsize&&(m.size=a.fillsize[0]*o(t)+u+a.fillsize[1]*o(e)),c.appendChild(m)}y.visibility="visible"}};e.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(l,e,r){for(var i=t(e).toLowerCase().split("-"),n=r?"end":"start",a=i.length,s="classic",o="medium",h="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":h=i[a];break;case"long":case"short":o=i[a]}var x=l.node.getElementsByTagName("stroke")[0];x[n+"arrow"]=s,x[n+"arrowlength"]=o,x[n+"arrowwidth"]=h},L=function(i,o){i.attrs=i.attrs||{};var c=i.node,y=i.attrs,d=c.style,p=_[i.type]&&(o.x!=y.x||o.y!=y.y||o.width!=y.width||o.height!=y.height||o.cx!=y.cx||o.cy!=y.cy||o.rx!=y.rx||o.ry!=y.ry||o.r!=y.r),v=w[i.type]&&(y.cx!=o.cx||y.cy!=o.cy||y.r!=o.r||y.rx!=o.rx||y.ry!=o.ry),g=i;for(var m in o)o[l](m)&&(y[m]=o[m]);if(p&&(y.path=e._getPath[i.type](i),i._.dirty=1),o.href&&(c.href=o.href),o.title&&(c.title=o.title),o.target&&(c.target=o.target),o.cursor&&(d.cursor=o.cursor),"blur"in o&&i.blur(o.blur),(o.path&&"path"==i.type||p)&&(c.path=k(~t(y.path).toLowerCase().indexOf("r")?e._pathToAbsolute(y.path):y.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[y.x,y.y],i._.fillsize=[y.width,y.height],S(i,1,1,0,0,0))),"transform"in o&&i.transform(o.transform),v){var C=+y.cx,L=+y.cy,M=+y.rx||+y.r||0,T=+y.ry||+y.r||0;c.path=e.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",n((C-M)*b),n((L-T)*b),n((C+M)*b),n((L+T)*b),n(C*b)),i._.dirty=1}if("clip-rect"in o){var I=t(o["clip-rect"]).split(x);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var z=c.clipRect||e._g.doc.createElement("div"),P=z.style;P.clip=e.format("rect({1}px {2}px {3}px {0}px)",I),c.clipRect||(P.position="absolute",P.top=0,P.left=0,P.width=i.paper.width+"px",P.height=i.paper.height+"px",c.parentNode.insertBefore(z,c),z.appendChild(c),c.clipRect=z)}o["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(i.textpath){var N=i.textpath.style;o.font&&(N.font=o.font),o["font-family"]&&(N.fontFamily='"'+o["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),o["font-size"]&&(N.fontSize=o["font-size"]),o["font-weight"]&&(N.fontWeight=o["font-weight"]),o["font-style"]&&(N.fontStyle=o["font-style"])}if("arrow-start"in o&&A(g,o["arrow-start"]),"arrow-end"in o&&A(g,o["arrow-end"],1),null!=o.opacity||null!=o["stroke-width"]||null!=o.fill||null!=o.src||null!=o.stroke||null!=o["stroke-width"]||null!=o["stroke-opacity"]||null!=o["fill-opacity"]||null!=o["stroke-dasharray"]||null!=o["stroke-miterlimit"]||null!=o["stroke-linejoin"]||null!=o["stroke-linecap"]){var F=c.getElementsByTagName(h),R=!1;if(F=F&&F[0],!F&&(R=F=E(h)),"image"==i.type&&o.src&&(F.src=o.src),o.fill&&(F.on=!0),(null==F.on||"none"==o.fill||null===o.fill)&&(F.on=!1),F.on&&o.fill){var D=t(o.fill).match(e._ISURL);if(D){F.parentNode==c&&c.removeChild(F),F.rotate=!0,F.src=D[1],F.type="tile";var j=i.getBBox(1);F.position=j.x+u+j.y,i._.fillpos=[j.x,j.y],e._preload(D[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else F.color=e.getRGB(o.fill).hex,F.src=f,F.type="solid",e.getRGB(o.fill).error&&(g.type in{circle:1,ellipse:1}||"r"!=t(o.fill).charAt())&&B(g,o.fill,F)&&(y.fill="none",y.gradient=o.fill,F.rotate=!1)}if("fill-opacity"in o||"opacity"in o){var O=((+y["fill-opacity"]+1||2)-1)*((+y.opacity+1||2)-1)*((+e.getRGB(o.fill).o+1||2)-1);O=s(a(O,0),1),F.opacity=O,F.src&&(F.color="none")}c.appendChild(F);var Y=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],G=!1;!Y&&(G=Y=E("stroke")),(o.stroke&&"none"!=o.stroke||o["stroke-width"]||null!=o["stroke-opacity"]||o["stroke-dasharray"]||o["stroke-miterlimit"]||o["stroke-linejoin"]||o["stroke-linecap"])&&(Y.on=!0),("none"==o.stroke||null===o.stroke||null==Y.on||0==o.stroke||0==o["stroke-width"])&&(Y.on=!1);var X=e.getRGB(o.stroke);Y.on&&o.stroke&&(Y.color=X.hex),O=((+y["stroke-opacity"]+1||2)-1)*((+y.opacity+1||2)-1)*((+X.o+1||2)-1);var q=.75*(r(o["stroke-width"])||1);if(O=s(a(O,0),1),null==o["stroke-width"]&&(q=y["stroke-width"]),o["stroke-width"]&&(Y.weight=q),q&&1>q&&(O*=q)&&(Y.weight=1),Y.opacity=O,o["stroke-linejoin"]&&(Y.joinstyle=o["stroke-linejoin"]||"miter"),Y.miterlimit=o["stroke-miterlimit"]||8,o["stroke-linecap"]&&(Y.endcap="butt"==o["stroke-linecap"]?"flat":"square"==o["stroke-linecap"]?"square":"round"),o["stroke-dasharray"]){var Z={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Y.dashstyle=Z[l](o["stroke-dasharray"])?Z[o["stroke-dasharray"]]:f}G&&c.appendChild(Y)}if("text"==g.type){g.paper.canvas.style.display=f;var V=g.paper.span,$=100,H=y.font&&y.font.match(/\d+(?:\.\d*)?(?=px)/);d=V.style,y.font&&(d.font=y.font),y["font-family"]&&(d.fontFamily=y["font-family"]),y["font-weight"]&&(d.fontWeight=y["font-weight"]),y["font-style"]&&(d.fontStyle=y["font-style"]),H=r(y["font-size"]||H&&H[0])||10,d.fontSize=H*$+"px",g.textpath.string&&(V.innerHTML=t(g.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var U=V.getBoundingClientRect();g.W=y.w=(U.right-U.left)/$,g.H=y.h=(U.bottom-U.top)/$,g.X=y.x,g.Y=y.y+g.H/2,("x"in o||"y"in o)&&(g.path.v=e.format("m{0},{1}l{2},{1}",n(y.x*b),n(y.y*b),n(y.x*b)+1));for(var W=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Q=W.length;Q>K;K++)if(W[K]in o){g._.dirty=1;break}switch(y["text-anchor"]){case"start":g.textpath.style["v-text-align"]="left",g.bbx=g.W/2;break;case"end":g.textpath.style["v-text-align"]="right",g.bbx=-g.W/2;break;default:g.textpath.style["v-text-align"]="center",g.bbx=0}g.textpath.style["v-text-kern"]=!0}},B=function(l,n,a){l.attrs=l.attrs||{};var s=(l.attrs,Math.pow),o="linear",h=".5 .5";if(l.attrs.gradient=n,n=t(n).replace(e._radial_gradient,function(l,t,e){return o="radial",t&&e&&(t=r(t),e=r(e),s(t-.5,2)+s(e-.5,2)>.25&&(e=i.sqrt(.25-s(t-.5,2))*(2*(e>.5)-1)+.5),h=t+u+e),f}),n=n.split(/\s*\-\s*/),"linear"==o){var x=n.shift();if(x=-r(x),isNaN(x))return null}var c=e._parseDots(n);if(!c)return null;if(l=l.shape||l.node,c.length){l.removeChild(a),a.on=!0,a.method="none",a.color=c[0].color,a.color2=c[c.length-1].color;for(var y=[],d=0,p=c.length;p>d;d++)c[d].offset&&y.push(c[d].offset+u+c[d].color);a.colors=y.length?y.join():"0% "+a.color,"radial"==o?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-x)%360),l.appendChild(a)}return 1},M=function(l,t){this[0]=this.node=l,l.raphael=!0,this.id=e._oid++,l.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=t,this.matrix=e.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null},T=e.el;M.prototype=T,T.constructor=M,T.transform=function(l){if(null==l)return this._.transform;var r,i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:f;i&&(r=l=t(l).replace(/\.{3}|\u2026/g,this._.transform||f)),e._extractTransform(this,n+l);var a,s=this.matrix.clone(),o=this.skew,h=this.node,x=~t(this.attrs.fill).indexOf("-"),c=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),c||x||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",a=s.split(),x&&a.noRotation||!a.isSimple){h.style.filter=s.toFilter();var y=this.getBBox(),d=this.getBBox(1),p=y.x-d.x,v=y.y-d.y;h.coordorigin=p*-b+u+v*-b,S(this,1,1,p,v,0)}else h.style.filter=f,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else h.style.filter=f,o.matrix=t(s),o.offset=s.offset();return r&&(this._.transform=r),this},T.rotate=function(l,e,i){if(this.removed)return this;if(null!=l){if(l=t(l).split(x),l.length-1&&(e=r(l[1]),i=r(l[2])),l=r(l[0]),null==i&&(e=i),null==e||null==i){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",l,e,i]])),this}},T.translate=function(l,e){return this.removed?this:(l=t(l).split(x),l.length-1&&(e=r(l[1])),l=r(l[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=l,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",l,e]])),this)},T.scale=function(l,e,i,n){if(this.removed)return this;if(l=t(l).split(x),l.length-1&&(e=r(l[1]),i=r(l[2]),n=r(l[3]),isNaN(i)&&(i=null),isNaN(n)&&(n=null)),l=r(l[0]),null==e&&(e=l),null==n&&(i=n),null==i||null==n)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,n=null==n?a.y+a.height/2:n,this.transform(this._.transform.concat([["s",l,e,i,n]])),this._.dirtyT=1,this},T.hide=function(){return!this.removed&&(this.node.style.display="none"),this},T.show=function(){return!this.removed&&(this.node.style.display=f),this},T._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},T.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),e.eve.unbind("raphael.*.*."+this.id),e._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null;this.removed=!0}},T.attr=function(t,r){if(this.removed)return this;if(null==t){var i={};for(var n in this.attrs)this.attrs[l](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&e.is(t,"string")){if(t==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=t.split(x),s={},o=0,y=a.length;y>o;o++)t=a[o],s[t]=t in this.attrs?this.attrs[t]:e.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:e._availableAttrs[t];return y-1?s:s[a[0]]}if(this.attrs&&null==r&&e.is(t,"array")){for(s={},o=0,y=t.length;y>o;o++)s[t[o]]=this.attr(t[o]);return s}var u;null!=r&&(u={},u[t]=r),null==r&&e.is(t,"object")&&(u=t);for(var f in u)c("raphael.attr."+f+"."+this.id,this,u[f]);if(u){for(f in this.paper.customAttributes)if(this.paper.customAttributes[l](f)&&u[l](f)&&e.is(this.paper.customAttributes[f],"function")){var d=this.paper.customAttributes[f].apply(this,[].concat(u[f]));this.attrs[f]=u[f];for(var p in d)d[l](p)&&(u[p]=d[p])}u.text&&"text"==this.type&&(this.textpath.string=u.text),L(this,u)}return this},T.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&e._tofront(this,this.paper),this},T.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),e._toback(this,this.paper)),this)},T.insertAfter=function(l){return this.removed?this:(l.constructor==e.st.constructor&&(l=l[l.length-1]),l.node.nextSibling?l.node.parentNode.insertBefore(this.node,l.node.nextSibling):l.node.parentNode.appendChild(this.node),e._insertafter(this,l,this.paper),this)},T.insertBefore=function(l){return this.removed?this:(l.constructor==e.st.constructor&&(l=l[0]),l.node.parentNode.insertBefore(this.node,l.node),e._insertbefore(this,l,this.paper),this)},T.blur=function(l){var t=this.node.runtimeStyle,r=t.filter;return r=r.replace(v,f),0!==+l?(this.attrs.blur=l,t.filter=r+u+y+".Blur(pixelradius="+(+l||1.5)+")",t.margin=e.format("-{0}px 0 0 -{0}px",n(+l||1.5))):(t.filter=r,t.margin=0,delete this.attrs.blur),this},e._engine.path=function(l,t){var e=E("shape");e.style.cssText=m,e.coordsize=b+u+b,e.coordorigin=t.coordorigin;var r=new M(e,t),i={fill:"none",stroke:"#000"};l&&(i.path=l),r.type="path",r.path=[],r.Path=f,L(r,i),t.canvas.appendChild(e);var n=E("skew");return n.on=!0,e.appendChild(n),r.skew=n,r.transform(f),r},e._engine.rect=function(l,t,r,i,n,a){var s=e._rectPath(t,r,i,n,a),o=l.path(s),h=o.attrs;return o.X=h.x=t,o.Y=h.y=r,o.W=h.width=i,o.H=h.height=n,h.r=a,h.path=s,o.type="rect",o},e._engine.ellipse=function(l,t,e,r,i){var n=l.path();return n.attrs,n.X=t-r,n.Y=e-i,n.W=2*r,n.H=2*i,n.type="ellipse",L(n,{cx:t,cy:e,rx:r,ry:i}),n},e._engine.circle=function(l,t,e,r){var i=l.path();return i.attrs,i.X=t-r,i.Y=e-r,i.W=i.H=2*r,i.type="circle",L(i,{cx:t,cy:e,r:r}),i},e._engine.image=function(l,t,r,i,n,a){var s=e._rectPath(r,i,n,a),o=l.path(s).attr({stroke:"none"}),x=o.attrs,c=o.node,y=c.getElementsByTagName(h)[0];return x.src=t,o.X=x.x=r,o.Y=x.y=i,o.W=x.width=n,o.H=x.height=a,x.path=s,o.type="image",y.parentNode==c&&c.removeChild(y),y.rotate=!0,y.src=t,y.type="tile",o._.fillpos=[r,i],o._.fillsize=[n,a],c.appendChild(y),S(o,1,1,0,0,0),o},e._engine.text=function(l,r,i,a){var s=E("shape"),o=E("path"),h=E("textpath");r=r||0,i=i||0,a=a||"",o.v=e.format("m{0},{1}l{2},{1}",n(r*b),n(i*b),n(r*b)+1),o.textpathok=!0,h.string=t(a),h.on=!0,s.style.cssText=m,s.coordsize=b+u+b,s.coordorigin="0 0";var x=new M(s,l),c={fill:"#000",stroke:"none",font:e._availableAttrs.font,text:a};x.shape=s,x.path=o,x.textpath=h,x.type="text",x.attrs.text=t(a),x.attrs.x=r,x.attrs.y=i,x.attrs.w=1,x.attrs.h=1,L(x,c),s.appendChild(h),s.appendChild(o),l.canvas.appendChild(s);var y=E("skew");return y.on=!0,s.appendChild(y),x.skew=y,x.transform(f),x},e._engine.setSize=function(l,t){var r=this.canvas.style;return this.width=l,this.height=t,l==+l&&(l+="px"),t==+t&&(t+="px"),r.width=l,r.height=t,r.clip="rect(0 "+l+" "+t+" 0)",this._viewBox&&e._engine.setViewBox.apply(this,this._viewBox),this},e._engine.setViewBox=function(l,t,r,i,n){e.eve("raphael.setViewBox",this,this._viewBox,[l,t,r,i,n]);var s,o,h=this.width,x=this.height,c=1/a(r/h,i/x);return n&&(s=x/i,o=h/r,h>r*s&&(l-=(h-r*s)/2/s),x>i*o&&(t-=(x-i*o)/2/o)),this._viewBox=[l,t,r,i,!!n],this._viewBoxShift={dx:-l,dy:-t,scale:c},this.forEach(function(l){l.transform("...")}),this};var E;e._engine.initWin=function(l){var t=l.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(l){return t.createElement("<rvml:"+l+' class="rvml">')}}catch(e){E=function(l){return t.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},e._engine.initWin(e._g.win),e._engine.create=function(){var l=e._getContainer.apply(0,arguments),t=l.container,r=l.height,i=l.width,n=l.x,a=l.y;if(!t)throw Error("VML container not found.");var s=new e._Paper,o=s.canvas=e._g.doc.createElement("div"),h=o.style;return n=n||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*b+u+1e3*b,s.coordorigin="0 0",s.span=e._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",o.appendChild(s.span),h.cssText=e.format("top:auto;left:auto;width:{0};height:{1};display:inline-block;position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==t?(e._g.doc.body.appendChild(o),h.position="absolute"):t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),s.renderfix=function(){},s},e.prototype.clear=function(){e.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=e._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},e.prototype.remove=function(){e.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var l in this)this[l]="function"==typeof this[l]?e._removedFactory(l):null;return!0};var I=e.st;for(var z in T)T[l](z)&&!I[l](z)&&(I[z]=function(l){return function(){var t=arguments;return this.forEach(function(e){e[l].apply(e,t)})}}(z))}}(),L.was?A.win.Raphael=e:Raphael=e,e})}(window),window.Raphael}),KISSY.add("gallery/kcharts/1.3/dashboard/pointer",function(l,t){function e(t,e,r,i,n,a){var s,o,h,x,c,y,u=Math.asin(i/n);a=l.mix({fill:"#000",stroke:"#000"},a,!0,["stroke","stroke-width","fill"]),s=e,o=r-n;var f=i*Math.cos(u);h=e+f,x=r-i*i/n,c=e-f,y=r-i*i/n;var d=["M",s,o,"L",h,x,"A",i,i,0,1,1,c,y,"Z"],p=t.path(d.join(","));return p.attr(a),p}var r,i={pointTo:function(l,t){var r=this.get("paper"),i=this,n=this.get("dashboard"),a=n.get("cx"),s=n.get("cy"),o=n.get("pointer")||{},h=o.cx||0,x=o.cy||0,c=a+h,y=s+x;n.get("width"),n.get("height");var u={a:function(n){var a=["r",l-90,c,y].join(",");i.pointer||(i.pointer=e(r,c,y,n.r||5,n.R||80,n)),l&&i.pointer.animate({transform:a},t.ms,t.easing,t.callback)},b:function(){}},f=o.theme&&o.theme.name&&u[o.theme.name]||u.a;f&&f(o.theme)}};return t.extend?r=t.extend(i):(r=function(l){this.set(l),this.userConfig=l},l.extend(r,t,i)),r},{requires:["base"]}),KISSY.add("gallery/kcharts/1.3/dashboard/pointer-pic",function(l,t){function e(){e.superclass.constructor.apply(this,arguments);var l=this.get("pointer"),t=(this.get("paper"),this.get("dashboard")),r=this.get("cy"),i=this.get("cx"),n=t.get("cx"),a=t.get("cy");this.pointer=l,this.cx=r,this.cy=i,this.paperCx=n,this.paperCy=a}return l.extend(e,t,{pointTo:function(l,t){var e=["r",l,this.paperCx,this.paperCy].join(",");return t?this.pointer.animate({transform:e},t.ms,t.easing,t.callback):this.pointer.transform(e),this}}),e},{requires:["./pointer"]}),KISSY.add("gallery/kcharts/1.3/dashboard/dashboard-ticks",function(l,t){var e,r={initializer:function(){var t,e,r,i,n,a,s,o,h,x,c,y,u=this.get("cfg"),f=u.r1||100,d=u.r2||105,p=u.R||110,v=this.get("dashboard"),g=this.get("paper"),m=v.get("cx"),b=v.get("cy"),_=[],w="";r=u.start||0,i=u.end||2*Math.PI,t=u.n||60,e=u.m,r-=Math.PI,i-=Math.PI,n=i-r,a=n/t;for(var k=0;t>=k;k+=1)if(!e||0!=k%e){var C=r+k*a;s=Math.cos(C),o=Math.sin(C),h=m+d*s,x=b+d*o,c=m+p*s,y=b+p*o,_.push("M",h,x,"L",c,y)}w=_.join(",");var S=g.path(w),A={};if(l.mix(A,u.thinStyle,!0,["stroke-width","stroke"]),S.attr(A),e){for(var L=[],B=0;t>=B;B+=e){var C=r+B*a;s=Math.cos(C),o=Math.sin(C),h=m+f*s,x=b+f*o,c=m+p*s,y=b+p*o,L.push("M",h,x,"L",c,y)}w=L.join(",");var M=g.path(w),T={"stroke-width":2};l.mix(T,u.thickStyle,!0,["stroke-width","stroke"]),M.attr(T)}}};return t.extend?e=t.extend(r):(e=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(e,t,r)),e},{requires:["base"]}),KISSY.add("gallery/kcharts/1.3/dashboard/index",function(l,t,e,r,i,n){window.console&&window.console.log("asdfaf");var a,s=t,o={initializer:function(){var t=this.get("renderTo");l.isString(t)&&(t=l.get(t));var e=this.get("width"),r=this.get("height");this.paper=s(t,e,r);var i=this.get("cx")||this.get("width")/2,n=this.get("cy")||this.get("width")/2;this.set("cx",i),this.set("cy",n),this.bindEvent();var a,o,h;a=this.get("ticks"),o=this.get("pointer"),h=this.get("background"),l.isObject(h)?this.drawBg(h):l.isFunction(h)&&h.call(this),l.isObject(o)?this.drawPointer(o):l.isFunction(o)&&o.call(this),l.isObject(a)?this.drawTicks(a):l.isFunction(a)&&(this.ticks=a.call(this))},bindEvent:function(){},drawBg:function(l){l.src?this.drawPictureBg(l):this.drawVectorBg(l)},drawPointer:function(l){var t=this;l.src?t.drawPicturePointer(l):t.drawVectorPointer(l)},drawVectorBg:function(){},drawPictureBg:function(l){var t,e=l.src,r=this.paper,i=this.get("cx"),n=this.get("cy"),a=l.cx,s=l.cy,o=i-a,h=n-s;t=r.image(e,o,h,l.width,l.height),this.set("background",t),this.background=t},drawPicturePointer:function(l){var t,e,i,n;t=this.get("cx"),e=this.get("cy"),i=l.cx,n=l.cy;var a,s=l.src,o=this.paper,h=t-i,x=e-n,c=this;a=o.image(s,h,x,l.width,l.height);var y=new r({pointer:a,dashboard:c,paper:o,cx:i,cy:n});c.set("pointer",y),this.pointer=y},drawVectorPointer:function(){var l=(this.get("vectorPointer"),this),t=this.paper,r=new e({dashboard:l,paper:t});this.pointer=r},drawTicks:function(l){this.ticks=new i({dashboard:this,paper:this.paper,cfg:l})},pointTo:function(l,t){this.pointer&&this.pointer.pointTo(l,t)}};return n.extend?a=n.extend(o):(a=function(l){this.set(l),this.userConfig=l,this.initializer()},l.extend(a,n,o)),a},{requires:["../raphael/index","./pointer","./pointer-pic","./dashboard-ticks","base","dom","event"]});